import{r as c,j as R,R as h}from"./jsx-runtime-BGxL3LVy.js";import{g as _,e as N}from"./index-C7wa7IgK.js";function A(e,t=[]){let n=[];function r(l,s){const i=c.createContext(s),a=n.length;n=[...n,s];function S(m){const{scope:p,children:f,...u}=m,C=(p==null?void 0:p[e][a])||i,d=c.useMemo(()=>u,Object.values(u));return R.jsx(C.Provider,{value:d,children:f})}function y(m,p){const f=(p==null?void 0:p[e][a])||i,u=c.useContext(f);if(u)return u;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${l}\``)}return S.displayName=l+"Provider",[S,y]}const o=()=>{const l=n.map(s=>c.createContext(s));return function(i){const a=(i==null?void 0:i[e])||l;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return o.scopeName=e,[r,I(o,...t)]}function I(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const s=r.reduce((i,{useScope:a,scopeName:S})=>{const m=a(l)[`__scope${S}`];return{...i,...m}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var v=c.forwardRef((e,t)=>{const{children:n,...r}=e,o=c.Children.toArray(n),l=o.find(w);if(l){const s=l.props.children,i=o.map(a=>a===l?c.Children.count(s)>1?c.Children.only(null):c.isValidElement(s)?s.props.children:null:a);return R.jsx(M,{...r,ref:t,children:c.isValidElement(s)?c.cloneElement(s,void 0,i):null})}return R.jsx(M,{...r,ref:t,children:n})});v.displayName="Slot";var M=c.forwardRef((e,t)=>{const{children:n,...r}=e;if(c.isValidElement(n)){const o=D(n);return c.cloneElement(n,{...b(r,n.props),ref:t?_(t,o):o})}return c.Children.count(n)>1?c.Children.only(null):null});M.displayName="SlotClone";var O=({children:e})=>R.jsx(R.Fragment,{children:e});function w(e){return c.isValidElement(e)&&e.type===O}function b(e,t){const n={...t};for(const r in t){const o=e[r],l=t[r];/^on[A-Z]/.test(r)?o&&l?n[r]=(...i)=>{l(...i),o(...i)}:o&&(n[r]=o):r==="style"?n[r]={...o,...l}:r==="className"&&(n[r]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function D(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function W(e){const t=e+"CollectionProvider",[n,r]=A(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=f=>{const{scope:u,children:C}=f,d=h.useRef(null),x=h.useRef(new Map).current;return R.jsx(o,{scope:u,itemMap:x,collectionRef:d,children:C})};s.displayName=t;const i=e+"CollectionSlot",a=h.forwardRef((f,u)=>{const{scope:C,children:d}=f,x=l(i,C),E=N(u,x.collectionRef);return R.jsx(v,{ref:E,children:d})});a.displayName=i;const S=e+"CollectionItemSlot",y="data-radix-collection-item",m=h.forwardRef((f,u)=>{const{scope:C,children:d,...x}=f,E=h.useRef(null),P=N(u,E),g=l(S,C);return h.useEffect(()=>(g.itemMap.set(E,{ref:E,...x}),()=>void g.itemMap.delete(E))),R.jsx(v,{[y]:"",ref:P,children:d})});m.displayName=S;function p(f){const u=l(e+"CollectionConsumer",f);return h.useCallback(()=>{const d=u.collectionRef.current;if(!d)return[];const x=Array.from(d.querySelectorAll(`[${y}]`));return Array.from(u.itemMap.values()).sort((g,j)=>x.indexOf(g.ref.current)-x.indexOf(j.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:s,Slot:a,ItemSlot:m},p,r]}var T=c.createContext(void 0);function L(e){const t=c.useContext(T);return e||t||"ltr"}export{W as c,L as u};
