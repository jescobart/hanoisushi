import{r as A,R as a,j as h}from"./jsx-runtime-BGxL3LVy.js";import{m as Ht}from"./max-DoGq9HeY.js";import{u as kt}from"./isJustoApp-DujzpsFs.js";import{u as zt}from"./useStateWithTransition-BEN_QdyR.js";import{i as Bt,a as Lt}from"./env-D6s-xqZ4.js";import{a as _t,u as Ut}from"./useWidth-DE4cobY2.js";import{O as Me,C as Pe,T as Ft,a as et,b as je,D as Ie,R as tt,P as nt,c as Wt,d as qe,e as Xe,f as Vt,g as Yt,h as qt}from"./dialog-bcszeN6R.js";import{c as W}from"./utils-mMyIM9tf.js";import{c as Xt}from"./react-icons.esm-D-bY5_Bc.js";import{c as Kt}from"./index-7UdPD0wL.js";import{O as Gt}from"./index-C7wa7IgK.js";import{C as Zt}from"./ClientOnly-C9d8okrb.js";import{u as Jt,M as Qt}from"./Context-BarPatdd.js";import{c as en}from"./createLucideIcon-gj9TAl09.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=en("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rt(){if(Bt)return 0;const[e,n]=A.useState(window.innerHeight);return A.useEffect(()=>{const t=()=>{n(window.innerHeight)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),e}function Ke(e){if(e)return e.offsetHeight}function nn(e){const[n,t]=A.useState(Ke(e.current));rt();function r(){if(e!=null&&e.current){const o=Ke(e.current);if(o!==n){if(n&&!o)return;t(o)}}}return A.useEffect(()=>{r()}),Lt&&(A.useLayoutEffect(()=>{r()}),_t(()=>{r()},500)),n||1}const re={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536},rn=e=>e<re.sm?"xs":e<re.md?"sm":e<re.lg?"md":e<re.xl?"lg":e<re["2xl"]?"xl":"2xl";function an(){const e=Ut();return rn(e)}function on(e){const n=an();return re[e]<=re[n]}function sn(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const at=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),se=()=>{const e=a.useContext(at);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};sn(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function ln(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function un(){return He(/^Mac/)}function cn(){return He(/^iPhone/)}function Ge(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function dn(){return He(/^iPad/)||un()&&navigator.maxTouchPoints>1}function ot(){return cn()||dn()}function He(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const fn=24,mn=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ze(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const Ee=typeof document<"u"&&window.visualViewport;function Je(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function it(e){for(Je(e)&&(e=e.parentElement);e&&!Je(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const hn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ve=0,Ce;function gn(e={}){let{isDisabled:n}=e;mn(()=>{if(!n)return ve++,ve===1&&ot()&&(Ce=wn()),()=>{ve--,ve===0&&(Ce==null||Ce())}},[n])}function wn(){let e,n=0,t=w=>{e=it(w.target),!(e===document.documentElement&&e===document.body)&&(n=w.changedTouches[0].pageY)},r=w=>{if(!e||e===document.documentElement||e===document.body){w.preventDefault();return}let p=w.changedTouches[0].pageY,_=e.scrollTop,B=e.scrollHeight-e.clientHeight;B!==0&&((_<=0&&p>n||_>=B&&p<n)&&w.preventDefault(),n=p)},i=w=>{let p=w.target;$e(p)&&p!==document.activeElement&&(w.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=w=>{let p=w.target;$e(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Ee&&(Ee.height<window.innerHeight?requestAnimationFrame(()=>{Qe(p)}):Ee.addEventListener("resize",()=>Qe(p),{once:!0}))}))},f=()=>{window.scrollTo(0,0)},u=window.pageXOffset,x=window.pageYOffset,D=Ze(pn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=Ze(me(document,"touchstart",t,{passive:!1,capture:!0}),me(document,"touchmove",r,{passive:!1,capture:!0}),me(document,"touchend",i,{passive:!1,capture:!0}),me(document,"focus",o,!0),me(window,"scroll",f));return()=>{D(),g(),window.scrollTo(u,x)}}function pn(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function me(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Qe(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=it(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const f=t.getBoundingClientRect().bottom+fn;o>f&&(t.scrollTop+=i-r)}e=t.parentElement}}function $e(e){return e instanceof HTMLInputElement&&!hn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function vn(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function yn(...e){return n=>e.forEach(t=>vn(t,n))}function st(...e){return A.useCallback(yn(...e),e)}const lt=new WeakMap;function N(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!t&&lt.set(e,r)}function bn(e,n){if(!e||!(e instanceof HTMLElement))return;let t=lt.get(e);t&&(e.style[n]=t[n])}const $=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ye(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function xn(e){return 8*(Math.log(e+1)-2)}function Oe(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function Sn(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const C={DURATION:.5,EASE:[.32,.72,0,1]},ut=.4,Rn=.25,Dn=100,ct=8,be=16,Ae=26,Ne="vaul-dragging";function dt(e){const n=a.useRef(e);return a.useEffect(()=>{n.current=e}),a.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function Tn({defaultProp:e,onChange:n}){const t=a.useState(e),[r]=t,i=a.useRef(r),o=dt(n);return a.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}function ft({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,i]=Tn({defaultProp:n,onChange:t}),o=e!==void 0,f=o?e:r,u=dt(t),x=a.useCallback(D=>{if(o){const w=typeof D=="function"?D(e):D;w!==e&&u(w)}else i(D)},[o,e,i,u]);return[f,x]}function En({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:f,direction:u="bottom",container:x,snapToSequentialPoint:D}){const[g,w]=ft({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),[p,_]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function c(){_({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const B=a.useMemo(()=>g===(t==null?void 0:t[t.length-1])||null,[t,g]),E=a.useMemo(()=>{var c;return(c=t==null?void 0:t.findIndex(S=>S===g))!=null?c:null},[t,g]),U=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===g||!t,v=a.useMemo(()=>{const c=x?{width:x.getBoundingClientRect().width,height:x.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var S;return(S=t==null?void 0:t.map(b=>{const H=typeof b=="string";let j=0;if(H&&(j=parseInt(b,10)),$(u)){const l=H?j:p?b*c.height:0;return p?u==="bottom"?c.height-l:-c.height+l:l}const V=H?j:p?b*c.width:0;return p?u==="right"?c.width-V:-c.width+V:V}))!=null?S:[]},[t,p,x]),P=a.useMemo(()=>E!==null?v==null?void 0:v[E]:null,[v,E]),M=a.useCallback(c=>{var S;const b=(S=v==null?void 0:v.findIndex(H=>H===c))!=null?S:null;f(b),N(r.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:$(u)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`}),v&&b!==v.length-1&&o!==void 0&&b!==o&&b<o?N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"0"}):N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),w(t==null?void 0:t[Math.max(b,0)])},[r.current,t,v,o,i,w]);a.useEffect(()=>{if(g||e){var c;const S=(c=t==null?void 0:t.findIndex(b=>b===e||b===g))!=null?c:-1;v&&S!==-1&&typeof v[S]=="number"&&M(v[S])}},[g,e,t,v,M]);function m({draggedDistance:c,closeDrawer:S,velocity:b,dismissible:H}){if(o===void 0)return;const j=u==="bottom"||u==="right"?(P??0)-c:(P??0)+c,V=E===o-1,l=E===0,F=c>0;if(V&&N(i.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),!D&&b>2&&!F){H?S():M(v[0]);return}if(!D&&b>2&&F&&v&&t){M(v[t.length-1]);return}const k=v==null?void 0:v.reduce((I,G)=>typeof I!="number"||typeof G!="number"?I:Math.abs(G-j)<Math.abs(I-j)?G:I),Y=$(u)?window.innerHeight:window.innerWidth;if(b>ut&&Math.abs(c)<Y*.4){const I=F?1:-1;if(I>0&&B&&t){M(v[t.length-1]);return}if(l&&I<0&&H&&S(),E===null)return;M(v[E+I]);return}M(k)}function X({draggedDistance:c}){if(P===null)return;const S=u==="bottom"||u==="right"?P-c:P+c;(u==="bottom"||u==="right")&&S<v[v.length-1]||(u==="top"||u==="left")&&S>v[v.length-1]||N(r.current,{transform:$(u)?`translate3d(0, ${S}px, 0)`:`translate3d(${S}px, 0, 0)`})}function te(c,S){if(!t||typeof E!="number"||!v||o===void 0)return null;const b=E===o-1;if(E>=o&&S)return 0;if(b&&!S)return 1;if(!U&&!b)return null;const j=b?E+1:E-1,V=b?v[j]-v[j-1]:v[j+1]-v[j],l=c/Math.abs(V);return b?1-l:l}return{isLastSnapPoint:B,activeSnapPoint:g,shouldFade:U,getPercentageDragged:te,setActiveSnapPoint:w,activeSnapPointIndex:E,onRelease:m,onDrag:X,snapPointsOffset:v}}const Cn=()=>()=>{};function On(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:r,noBodyStyles:i}=se(),o=a.useRef(null),f=A.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-Ae)/window.innerWidth}a.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const x=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!x)return;Sn(r&&!i?Oe(document.body,{background:"black"}):Cn,Oe(x,{transformOrigin:$(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`}));const D=Oe(x,{borderRadius:`${ct}px`,overflow:"hidden",...$(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{D(),o.current=window.setTimeout(()=>{f?document.body.style.background=f:document.body.style.removeProperty("background")},C.DURATION*1e3)}}},[n,t,f])}let he=null;function Nn({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[f,u]=a.useState(()=>typeof window<"u"?window.location.href:""),x=a.useRef(0),D=a.useCallback(()=>{if(Ge()&&he===null&&e&&!o){he={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:w,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-x.current}px`,left:`${-w}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const _=p-window.innerHeight;_&&x.current>=p&&(document.body.style.top=`${-(x.current+_)}px`)}),300)}},[e]),g=a.useCallback(()=>{if(Ge()&&he!==null&&!o){const w=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,he),window.requestAnimationFrame(()=>{if(i&&f!==window.location.href){u(window.location.href);return}window.scrollTo(p,w)}),he=null}},[f]);return a.useEffect(()=>{function w(){x.current=window.scrollY}return w(),window.addEventListener("scroll",w),()=>{window.removeEventListener("scroll",w)}},[]),a.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[n,g]),a.useEffect(()=>{t||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&D(),n||window.setTimeout(()=>{g()},500)):g())},[e,r,f,n,t,D,g]),{restorePositionSetting:g}}function mt({open:e,onOpenChange:n,children:t,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:f=!1,setBackgroundColorOnScale:u=!0,closeThreshold:x=Rn,scrollLockTimeout:D=Dn,dismissible:g=!0,handleOnly:w=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:_,setActiveSnapPoint:B,fixed:E,modal:U=!0,onClose:v,nested:P,noBodyStyles:M=!1,direction:m="bottom",defaultOpen:X=!1,disablePreventScroll:te=!0,snapToSequentialPoint:c=!1,preventScrollRestoration:S=!1,repositionInputs:b=!0,onAnimationEnd:H,container:j,autoFocus:V=!1}){var l,F;const[k=!1,Y]=ft({defaultProp:X,prop:e,onChange:s=>{n==null||n(s),!s&&!P&&Ot(),setTimeout(()=>{H==null||H(s)},C.DURATION*1e3),s&&!U&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[I,G]=a.useState(!1),[J,le]=a.useState(!1),[St,ke]=a.useState(!1),ae=a.useRef(null),ge=a.useRef(null),xe=a.useRef(null),Se=a.useRef(null),ue=a.useRef(null),ce=a.useRef(!1),Re=a.useRef(null),De=a.useRef(0),oe=a.useRef(!1),ze=a.useRef(!X),Be=a.useRef(0),d=a.useRef(null),Le=a.useRef(((l=d.current)==null?void 0:l.getBoundingClientRect().height)||0),_e=a.useRef(((F=d.current)==null?void 0:F.getBoundingClientRect().width)||0),Te=a.useRef(0),Rt=a.useCallback(s=>{o&&s===de.length-1&&(ge.current=new Date)},[]),{activeSnapPoint:Dt,activeSnapPointIndex:ie,setActiveSnapPoint:Ue,onRelease:Tt,snapPointsOffset:de,onDrag:Et,shouldFade:Fe,getPercentageDragged:Ct}=En({snapPoints:o,activeSnapPointProp:_,setActiveSnapPointProp:B,drawerRef:d,fadeFromIndex:p,overlayRef:ae,onSnapPointChange:Rt,direction:m,container:j,snapToSequentialPoint:c});gn({isDisabled:!k||J||!U||St||!I||!b||!te});const{restorePositionSetting:Ot}=Nn({isOpen:k,modal:U,nested:P??!1,hasBeenOpened:I,preventScrollRestoration:S,noBodyStyles:M});function we(){return(window.innerWidth-Ae)/window.innerWidth}function Nt(s){var R,T;!g&&!o||d.current&&!d.current.contains(s.target)||(Le.current=((R=d.current)==null?void 0:R.getBoundingClientRect().height)||0,_e.current=((T=d.current)==null?void 0:T.getBoundingClientRect().width)||0,le(!0),xe.current=new Date,ot()&&window.addEventListener("touchend",()=>ce.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),De.current=$(m)?s.pageY:s.pageX)}function We(s,R){var T;let y=s;const O=(T=window.getSelection())==null?void 0:T.toString(),L=d.current?ye(d.current,m):null,z=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(m==="right"||m==="left")return!0;if(ge.current&&z.getTime()-ge.current.getTime()<500)return!1;if(L!==null&&(m==="bottom"?L>0:L<0))return!0;if(O&&O.length>0)return!1;if(ue.current&&z.getTime()-ue.current.getTime()<D&&L===0||R)return ue.current=z,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return ue.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function $t(s){if(d.current&&J){const R=m==="bottom"||m==="right"?1:-1,T=(De.current-($(m)?s.pageY:s.pageX))*R,y=T>0,O=o&&!g&&!y;if(O&&ie===0)return;const L=Math.abs(T),z=document.querySelector("[data-vaul-drawer-wrapper]"),Q=m==="bottom"||m==="top"?Le.current:_e.current;let q=L/Q;const ne=Ct(L,y);if(ne!==null&&(q=ne),O&&q>=1||!ce.current&&!We(s.target,y))return;if(d.current.classList.add(Ne),ce.current=!0,N(d.current,{transition:"none"}),N(ae.current,{transition:"none"}),o&&Et({draggedDistance:T}),y&&!o){const K=xn(T),pe=Math.min(K*-1,0)*R;N(d.current,{transform:$(m)?`translate3d(0, ${pe}px, 0)`:`translate3d(${pe}px, 0, 0)`});return}const ee=1-q;if((Fe||p&&ie===p-1)&&(r==null||r(s,q),N(ae.current,{opacity:`${ee}`,transition:"none"},!0)),z&&ae.current&&f){const K=Math.min(we()+q*(1-we()),1),pe=8-q*8,Ye=Math.max(0,14-q*14);N(z,{borderRadius:`${pe}px`,transform:$(m)?`scale(${K}) translate3d(0, ${Ye}px, 0)`:`scale(${K}) translate3d(${Ye}px, 0, 0)`,transition:"none"},!0)}if(!o){const K=L*R;N(d.current,{transform:$(m)?`translate3d(0, ${K}px, 0)`:`translate3d(${K}px, 0, 0)`})}}}a.useEffect(()=>{window.requestAnimationFrame(()=>{ze.current=!0})},[]),a.useEffect(()=>{var s;function R(){if(!d.current||!b)return;const T=document.activeElement;if($e(T)||oe.current){var y;const O=((y=window.visualViewport)==null?void 0:y.height)||0,L=window.innerHeight;let z=L-O;const Q=d.current.getBoundingClientRect().height||0,q=Q>L*.8;Te.current||(Te.current=Q);const ne=d.current.getBoundingClientRect().top;if(Math.abs(Be.current-z)>60&&(oe.current=!oe.current),o&&o.length>0&&de&&ie){const ee=de[ie]||0;z+=ee}if(Be.current=z,Q>O||oe.current){const ee=d.current.getBoundingClientRect().height;let K=ee;ee>O&&(K=O-(q?ne:Ae)),E?d.current.style.height=`${ee-Math.max(z,0)}px`:d.current.style.height=`${Math.max(K,O-ne)}px`}else ln()||(d.current.style.height=`${Te.current}px`);o&&o.length>0&&!oe.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(z,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",R),()=>{var T;return(T=window.visualViewport)==null?void 0:T.removeEventListener("resize",R)}},[ie,o,de]);function fe(s){At(),v==null||v(),s||Y(!1),setTimeout(()=>{o&&Ue(o[0])},C.DURATION*1e3)}function Ve(){if(!d.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),R=ye(d.current,m);N(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`}),N(ae.current,{transition:`opacity ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,opacity:"1"}),f&&R&&R>0&&k&&N(s,{borderRadius:`${ct}px`,overflow:"hidden",...$(m)?{transform:`scale(${we()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${we()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${C.DURATION}s`,transitionTimingFunction:`cubic-bezier(${C.EASE.join(",")})`},!0)}function At(){!J||!d.current||(d.current.classList.remove(Ne),ce.current=!1,le(!1),Se.current=new Date)}function Mt(s){if(!J||!d.current)return;d.current.classList.remove(Ne),ce.current=!1,le(!1),Se.current=new Date;const R=ye(d.current,m);if(!s||!We(s.target,!1)||!R||Number.isNaN(R)||xe.current===null)return;const T=Se.current.getTime()-xe.current.getTime(),y=De.current-($(m)?s.pageY:s.pageX),O=Math.abs(y)/T;if(O>.05&&(ke(!0),setTimeout(()=>{ke(!1)},200)),o){Tt({draggedDistance:y*(m==="bottom"||m==="right"?1:-1),closeDrawer:fe,velocity:O,dismissible:g}),i==null||i(s,!0);return}if(m==="bottom"||m==="right"?y>0:y<0){Ve(),i==null||i(s,!0);return}if(O>ut){fe(),i==null||i(s,!1);return}var L;const z=Math.min((L=d.current.getBoundingClientRect().height)!=null?L:0,window.innerHeight);var Q;const q=Math.min((Q=d.current.getBoundingClientRect().width)!=null?Q:0,window.innerWidth),ne=m==="left"||m==="right";if(Math.abs(R)>=(ne?q:z)*x){fe(),i==null||i(s,!1);return}i==null||i(s,!0),Ve()}a.useEffect(()=>(k&&(N(document.documentElement,{scrollBehavior:"auto"}),ge.current=new Date),()=>{bn(document.documentElement,"scrollBehavior")}),[k]);function Pt(s){const R=s?(window.innerWidth-be)/window.innerWidth:1,T=s?-16:0;Re.current&&window.clearTimeout(Re.current),N(d.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:`scale(${R}) translate3d(0, ${T}px, 0)`}),!s&&d.current&&(Re.current=setTimeout(()=>{const y=ye(d.current,m);N(d.current,{transition:"none",transform:$(m)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function jt(s,R){if(R<0)return;const T=(window.innerWidth-be)/window.innerWidth,y=T+R*(1-T),O=-16+R*be;N(d.current,{transform:$(m)?`scale(${y}) translate3d(0, ${O}px, 0)`:`scale(${y}) translate3d(${O}px, 0, 0)`,transition:"none"})}function It(s,R){const T=$(m)?window.innerHeight:window.innerWidth,y=R?(T-be)/T:1,O=R?-16:0;R&&N(d.current,{transition:`transform ${C.DURATION}s cubic-bezier(${C.EASE.join(",")})`,transform:$(m)?`scale(${y}) translate3d(0, ${O}px, 0)`:`scale(${y}) translate3d(${O}px, 0, 0)`})}return a.useEffect(()=>{U||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[U]),a.createElement(tt,{defaultOpen:X,onOpenChange:s=>{!g&&!s||(s?G(!0):fe(!0),Y(s))},open:k},a.createElement(at.Provider,{value:{activeSnapPoint:Dt,snapPoints:o,setActiveSnapPoint:Ue,drawerRef:d,overlayRef:ae,onOpenChange:n,onPress:Nt,onRelease:Mt,onDrag:$t,dismissible:g,shouldAnimate:ze,handleOnly:w,isOpen:k,isDragging:J,shouldFade:Fe,closeDrawer:fe,onNestedDrag:jt,onNestedOpenChange:Pt,onNestedRelease:It,keyboardIsOpen:oe,modal:U,snapPointsOffset:de,activeSnapPointIndex:ie,direction:m,shouldScaleBackground:f,setBackgroundColorOnScale:u,noBodyStyles:M,container:j,autoFocus:V}},t))}const ht=a.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:r,onRelease:i,shouldFade:o,isOpen:f,modal:u,shouldAnimate:x}=se(),D=st(n,t),g=r&&r.length>0;if(!u)return null;const w=a.useCallback(p=>i(p),[i]);return a.createElement(Me,{onMouseUp:w,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":f&&g?"true":"false","data-vaul-snap-points-overlay":f&&o?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...e})});ht.displayName="Drawer.Overlay";const gt=a.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...r},i){const{drawerRef:o,onPress:f,onRelease:u,onDrag:x,keyboardIsOpen:D,snapPointsOffset:g,activeSnapPointIndex:w,modal:p,isOpen:_,direction:B,snapPoints:E,container:U,handleOnly:v,shouldAnimate:P,autoFocus:M}=se(),[m,X]=a.useState(!1),te=st(i,o),c=a.useRef(null),S=a.useRef(null),b=a.useRef(!1),H=E&&E.length>0;On();const j=(l,F,k=0)=>{if(b.current)return!0;const Y=Math.abs(l.y),I=Math.abs(l.x),G=I>Y,J=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(l.x*J<0)&&I>=0&&I<=k)return G}else if(!(l.y*J<0)&&Y>=0&&Y<=k)return!G;return b.current=!0,!0};a.useEffect(()=>{H&&window.requestAnimationFrame(()=>{X(!0)})},[]);function V(l){c.current=null,b.current=!1,u(l)}return a.createElement(Pe,{"data-vaul-drawer-direction":B,"data-vaul-drawer":"","data-vaul-delayed-snap-points":m?"true":"false","data-vaul-snap-points":_&&H?"true":"false","data-vaul-custom-container":U?"true":"false","data-vaul-animate":P!=null&&P.current?"true":"false",...r,ref:te,style:g&&g.length>0?{"--snap-point-height":`${g[w??0]}px`,...n}:n,onPointerDown:l=>{v||(r.onPointerDown==null||r.onPointerDown.call(r,l),c.current={x:l.pageX,y:l.pageY},f(l))},onOpenAutoFocus:l=>{t==null||t(l),M||l.preventDefault()},onPointerDownOutside:l=>{if(e==null||e(l),!p||l.defaultPrevented){l.preventDefault();return}D.current&&(D.current=!1)},onFocusOutside:l=>{if(!p){l.preventDefault();return}},onPointerMove:l=>{if(S.current=l,v||(r.onPointerMove==null||r.onPointerMove.call(r,l),!c.current))return;const F=l.pageY-c.current.y,k=l.pageX-c.current.x,Y=l.pointerType==="touch"?10:2;j({x:k,y:F},B,Y)?x(l):(Math.abs(k)>Y||Math.abs(F)>Y)&&(c.current=null)},onPointerUp:l=>{r.onPointerUp==null||r.onPointerUp.call(r,l),c.current=null,b.current=!1,u(l)},onPointerOut:l=>{r.onPointerOut==null||r.onPointerOut.call(r,l),V(S.current)},onContextMenu:l=>{r.onContextMenu==null||r.onContextMenu.call(r,l),S.current&&V(S.current)}})});gt.displayName="Drawer.Content";const $n=250,An=120,wt=a.forwardRef(function({preventCycle:e=!1,children:n,...t},r){const{closeDrawer:i,isDragging:o,snapPoints:f,activeSnapPoint:u,setActiveSnapPoint:x,dismissible:D,handleOnly:g,isOpen:w,onPress:p,onDrag:_}=se(),B=a.useRef(null),E=a.useRef(!1);function U(){if(E.current){M();return}window.setTimeout(()=>{v()},An)}function v(){if(o||e||E.current){M();return}if(M(),!f||f.length===0){D||i();return}if(u===f[f.length-1]&&D){i();return}const X=f.findIndex(c=>c===u);if(X===-1)return;const te=f[X+1];x(te)}function P(){B.current=window.setTimeout(()=>{E.current=!0},$n)}function M(){B.current&&window.clearTimeout(B.current),E.current=!1}return a.createElement("div",{onClick:U,onPointerCancel:M,onPointerDown:m=>{g&&p(m),P()},onPointerMove:m=>{g&&_(m)},ref:r,"data-vaul-drawer-visible":w?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});wt.displayName="Drawer.Handle";function Mn({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:r,onNestedOpenChange:i,onNestedRelease:o}=se();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return a.createElement(mt,{nested:!0,onClose:()=>{i(!1)},onDrag:(f,u)=>{r(f,u),e==null||e(f,u)},onOpenChange:f=>{f&&i(f)},onRelease:o,...t})}function Pn(e){const n=se(),{container:t=n.container,...r}=e;return a.createElement(nt,{container:t,...r})}const Z={Root:mt,NestedRoot:Mn,Content:gt,Overlay:ht,Trigger:Ft,Portal:Pn,Handle:wt,Close:et,Title:je,Description:Ie},pt=({shouldScaleBackground:e=!0,...n})=>h.jsx(Z.Root,{shouldScaleBackground:e,...n});pt.displayName="Drawer";const jn=Z.Portal,vt=A.forwardRef(({className:e,...n},t)=>h.jsx(Z.Overlay,{ref:t,className:W("fixed inset-0 z-50 bg-unsafe-black/80",e),...n}));vt.displayName=Z.Overlay.displayName;const yt=A.forwardRef(({className:e,children:n,...t},r)=>h.jsxs(jn,{children:[h.jsx(vt,{}),h.jsxs(Z.Content,{ref:r,className:W("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[t.dismissible&&h.jsx("div",{className:"absolute z-10 top-0 left-0 right-0 flex items-center justify-center",children:h.jsx("div",{className:"mt-2 h-1 w-[50px] rounded-full bg-muted-foreground"})}),n]})]}));yt.displayName="DrawerContent";const In=A.forwardRef(({className:e,...n},t)=>h.jsx(Z.Title,{ref:t,className:W("text-lg font-semibold leading-none tracking-tight",e),...n}));In.displayName=Z.Title.displayName;const Hn=A.forwardRef(({className:e,...n},t)=>h.jsx(Z.Description,{ref:t,className:W("text-sm text-muted-foreground",e),...n}));Hn.displayName=Z.Description.displayName;const kn=tt,zn=nt,bt=A.forwardRef(({className:e,...n},t)=>h.jsx(Me,{className:W("fixed inset-0 z-50 bg-unsafe-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:t}));bt.displayName=Me.displayName;const Bn=Kt("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xt=A.forwardRef(({side:e="right",className:n,children:t,...r},i)=>h.jsxs(zn,{children:[h.jsx(bt,{}),h.jsxs(Pe,{ref:i,className:W(Bn({side:e}),n),...r,children:[h.jsxs(et,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(Xt,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));xt.displayName=Pe.displayName;const Ln=A.forwardRef(({className:e,...n},t)=>h.jsx(je,{ref:t,className:W("text-lg font-semibold text-foreground",e),...n}));Ln.displayName=je.displayName;const _n=A.forwardRef(({className:e,...n},t)=>h.jsx(Ie,{ref:t,className:W("text-sm text-muted-foreground",e),...n}));_n.displayName=Ie.displayName;function Un(e){const n=zt(e.open),t=A.useRef(null),r=nn(t),i=rt()-48,o=e.forceScroll??r>i,f=on("md"),u=e.dismissible!==!1,x=e.force==="drawer"?"drawer":e.force==="modal"?"modal":e.force==="sheet"?"sheet":f?e.preferSheet?"sheet":"modal":"drawer",D=kt(),g=h.jsxs("div",{className:W("grid gap-4"),ref:t,children:[e.title||e.header?h.jsxs(Wt,{children:[e.title&&h.jsx(qe,{children:e.title}),e.description&&h.jsx(Xe,{children:e.description}),e.header]}):h.jsxs("div",{className:"hidden",children:[h.jsx(qe,{children:"Title"}),h.jsx(Xe,{children:"Dialog"})]}),e.children,e.footer&&h.jsx(Vt,{children:e.footer})]});return x==="drawer"?h.jsx(pt,{shouldScaleBackground:!1,nested:e.nested,dismissible:u,open:n,onOpenChange:e.onOpenChange,children:h.jsxs(yt,{dismissible:u,className:W("bg-card",e.dialogContentClassName),children:[e.includeCloseButtonInDrawer&&h.jsx(Gt,{onClick:()=>e.onOpenChange(!1),className:"absolute right-2 top-2 z-10 h-7 w-7 bg-card-foreground/10 rounded-full flex items-center justify-center",children:h.jsx(tn,{className:"h-5 w-5 text-muted-foreground"})}),h.jsx("div",{className:W("data-drawer-container","w-full overflow-auto p-4 bg-card rounded-t-[10px] text-card-foreground",{"h-[calc(100dvh-6rem)]":e.fullHeight===!0||e.fullHeight==="drawer","max-h-[calc(100dvh-6rem)]":!e.fullHeight,"p-0":e.noPadding}),style:{paddingBottom:e.noPadding?0:Ht([D.bottom,16])},children:g})]})}):x==="sheet"?h.jsx(kn,{open:n,onOpenChange:e.onOpenChange,children:h.jsx(xt,{className:"bg-card text-card-foreground",children:g})}):h.jsx(Yt,{open:n,onOpenChange:e.onOpenChange,children:h.jsx(qt,{className:W("w-[calc(100dvw-3rem)] p-0 bg-card text-card-foreground",e.dialogContentClassName,{"max-w-full":e.size==="screen","max-w-7xl":e.size==="7xl","max-w-6xl":e.size==="6xl","max-w-5xl":e.size==="5xl","max-w-4xl":e.size==="4xl","max-w-3xl":e.size==="3xl","max-w-2xl":e.size==="2xl","max-w-xl":e.size==="xl"||!e.size,"max-w-lg":e.size==="lg","max-w-md":e.size==="md","max-w-sm":e.size==="sm","h-[calc(100dvh-3rem)]":e.fullHeight===!0||e.fullHeight==="modal"}),dismissible:u,children:h.jsx("div",{className:W("max-h-[calc(100dvh-3rem)] p-6",{"p-0":e.noPadding,"overflow-auto":o}),children:g})})})}function rr(e){const n=Jt(e);return h.jsx(Zt,{children:h.jsx(Qt.Provider,{value:n,children:h.jsx(Un,{...e})})})}export{rr as M,tn as X,on as u};
