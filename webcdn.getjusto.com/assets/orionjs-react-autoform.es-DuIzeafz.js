import{l as ce}from"./index-Dz7ujoPl.js";import{R as y,r as nt}from"./jsx-runtime-BGxL3LVy.js";import{l as ot}from"./index-Dpcw64aj.js";import{K as Nt,i as Fe,d as Qt,a as It,Q as Vt,p as Mt,b as Lt}from"./parser-CklOqoDN.js";function qt(e){return`"${e.replace($t,zt)}"`}const $t=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function zt(e){return Ut[e.charCodeAt(0)]}const Ut=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Wt=Object.freeze({});function Bt(e,t,r=Vt){const n=new Map;for(const g of Object.values(Nt))n.set(g,Ht(t,g));let o,i=Array.isArray(e),s=[e],a=-1,c=[],u=e,p,d;const m=[],O=[];do{a++;const g=a===s.length,q=g&&c.length!==0;if(g){if(p=O.length===0?void 0:m[m.length-1],u=d,d=O.pop(),q)if(i){u=u.slice();let x=0;for(const[D,b]of c){const j=D-x;b===null?(u.splice(j,1),x++):u[j]=b}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[x,D]of c)u[x]=D}a=o.index,s=o.keys,c=o.edits,i=o.inArray,o=o.prev}else if(d){if(p=i?a:s[a],u=d[p],u==null)continue;m.push(p)}let S;if(!Array.isArray(u)){var C,L;Fe(u)||Qt(!1,`Invalid AST Node: ${It(u)}.`);const x=g?(C=n.get(u.kind))===null||C===void 0?void 0:C.leave:(L=n.get(u.kind))===null||L===void 0?void 0:L.enter;if(S=x==null?void 0:x.call(t,u,p,d,m,O),S===Wt)break;if(S===!1){if(!g){m.pop();continue}}else if(S!==void 0&&(c.push([p,S]),!g))if(Fe(S))u=S;else{m.pop();continue}}if(S===void 0&&q&&c.push([p,u]),g)m.pop();else{var N;o={inArray:i,index:a,keys:s,edits:c,prev:o},i=Array.isArray(u),s=i?u:(N=r[u.kind])!==null&&N!==void 0?N:[],a=-1,c=[],d&&O.push(d),d=u}}while(o!==void 0);return c.length!==0?c[c.length-1][1]:e}function Ht(e,t){const r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function Gt(e){return Bt(e,Yt)}const Kt=80,Yt={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>l(e.definitions,`

`)},OperationDefinition:{leave(e){const t=f("(",l(e.variableDefinitions,", "),")"),r=l([e.operation,l([e.name,t]),l(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+f(" = ",r)+f(" ",l(n," "))},SelectionSet:{leave:({selections:e})=>w(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:o}){const i=f("",e,": ")+t;let s=i+f("(",l(r,", "),")");return s.length>Kt&&(s=i+f(`(
`,Y(l(r,`
`)),`
)`)),l([s,l(n," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+f(" ",l(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>l(["...",f("on ",e),l(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:o})=>`fragment ${e}${f("(",l(r,", "),")")} on ${t} ${f("",l(n," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?Mt(e):qt(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+l(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+l(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+f("(",l(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>f("",e,`
`)+l(["schema",l(t," "),w(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>f("",e,`
`)+l(["scalar",t,l(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:o})=>f("",e,`
`)+l(["type",t,f("implements ",l(r," & ")),l(n," "),w(o)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:o})=>f("",e,`
`)+t+(ke(r)?f(`(
`,Y(l(r,`
`)),`
)`):f("(",l(r,", "),")"))+": "+n+f(" ",l(o," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:o})=>f("",e,`
`)+l([t+": "+r,f("= ",n),l(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:o})=>f("",e,`
`)+l(["interface",t,f("implements ",l(r," & ")),l(n," "),w(o)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>f("",e,`
`)+l(["union",t,l(r," "),f("= ",l(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>f("",e,`
`)+l(["enum",t,l(r," "),w(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>f("",e,`
`)+l([t,l(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>f("",e,`
`)+l(["input",t,l(r," "),w(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:o})=>f("",e,`
`)+"directive @"+t+(ke(r)?f(`(
`,Y(l(r,`
`)),`
)`):f("(",l(r,", "),")"))+(n?" repeatable":"")+" on "+l(o," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>l(["extend schema",l(e," "),w(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>l(["extend scalar",e,l(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>l(["extend type",e,f("implements ",l(t," & ")),l(r," "),w(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>l(["extend interface",e,f("implements ",l(t," & ")),l(r," "),w(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>l(["extend union",e,l(t," "),f("= ",l(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>l(["extend enum",e,l(t," "),w(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>l(["extend input",e,l(t," "),w(r)]," ")}};function l(e,t=""){var r;return(r=e==null?void 0:e.filter(n=>n).join(t))!==null&&r!==void 0?r:""}function w(e){return f(`{
`,Y(l(e,`
`)),`
}`)}function f(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function Y(e){return f("  ",e.replace(/\n/g,`
  `))}function ke(e){var t;return(t=e==null?void 0:e.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}function Jt(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fe=function(e,t){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},fe(e,t)};function it(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var T=function(){return T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},T.apply(this,arguments)};function pe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function re(e,t,r){for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var J=new Map,he=new Map,st=!0,X=!1;function at(e){return e.replace(/[\s,]+/g," ").trim()}function Xt(e){return at(e.source.body.substring(e.start,e.end))}function Zt(e){var t=new Set,r=[];return e.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var o=n.name.value,i=Xt(n.loc),s=he.get(o);s&&!s.has(i)?st&&console.warn("Warning: fragment with name "+o+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||he.set(o,s=new Set),s.add(i),t.has(i)||(t.add(i),r.push(n))}else r.push(n)}),T(T({},e),{definitions:r})}function er(e){var t=new Set(e.definitions);t.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(o){var i=n[o];i&&typeof i=="object"&&t.add(i)})});var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}function tr(e){var t=at(e);if(!J.has(t)){var r=Lt(e,{experimentalFragmentVariables:X,allowLegacyFragmentVariables:X});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");J.set(t,er(Zt(r)))}return J.get(t)}function R(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];typeof e=="string"&&(e=[e]);var n=e[0];return t.forEach(function(o,i){o&&o.kind==="Document"?n+=o.loc.source.body:n+=o,n+=e[i+1]}),tr(n)}function rr(){J.clear(),he.clear()}function nr(){st=!1}function or(){X=!0}function ir(){X=!1}var z={gql:R,resetCaches:rr,disableFragmentWarnings:nr,enableExperimentalFragmentVariables:or,disableExperimentalFragmentVariables:ir};(function(e){e.gql=z.gql,e.resetCaches=z.resetCaches,e.disableFragmentWarnings=z.disableFragmentWarnings,e.enableExperimentalFragmentVariables=z.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=z.disableExperimentalFragmentVariables})(R);R.default=R;var H=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ee=sr,ar=typeof H=="object"&&H&&H.Object===Object&&H,ut=ar,ur=ut,lr=typeof self=="object"&&self&&self.Object===Object&&self,cr=ur||lr||Function("return this")(),je=cr,fr=je,pr=function(){return fr.Date.now()},hr=pr,dr=/\s/;function yr(e){for(var t=e.length;t--&&dr.test(e.charAt(t)););return t}var br=yr,mr=br,gr=/^\s+/;function vr(e){return e&&e.slice(0,mr(e)+1).replace(gr,"")}var Or=vr,Er=je,jr=Er.Symbol,we=jr,Te=we,lt=Object.prototype,wr=lt.hasOwnProperty,Sr=lt.toString,U=Te?Te.toStringTag:void 0;function xr(e){var t=wr.call(e,U),r=e[U];try{e[U]=void 0;var n=!0}catch{}var o=Sr.call(e);return n&&(t?e[U]=r:delete e[U]),o}var Fr=xr,kr=Object.prototype,Tr=kr.toString;function _r(e){return Tr.call(e)}var Pr=_r,_e=we,Cr=Fr,Rr=Pr,Dr="[object Null]",Ar="[object Undefined]",Pe=_e?_e.toStringTag:void 0;function Nr(e){return e==null?e===void 0?Ar:Dr:Pe&&Pe in Object(e)?Cr(e):Rr(e)}var V=Nr;function Qr(e){return e!=null&&typeof e=="object"}var M=Qr,Ir=V,Vr=M,Mr="[object Symbol]";function Lr(e){return typeof e=="symbol"||Vr(e)&&Ir(e)==Mr}var ct=Lr,qr=Or,Ce=Ee,$r=ct,Re=NaN,zr=/^[-+]0x[0-9a-f]+$/i,Ur=/^0b[01]+$/i,Wr=/^0o[0-7]+$/i,Br=parseInt;function Hr(e){if(typeof e=="number")return e;if($r(e))return Re;if(Ce(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ce(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qr(e);var r=Ur.test(e);return r||Wr.test(e)?Br(e.slice(2),r?2:8):zr.test(e)?Re:+e}var ft=Hr,Gr=Ee,ne=hr,De=ft,Kr="Expected a function",Yr=Math.max,Jr=Math.min;function Xr(e,t,r){var n,o,i,s,a,c,u=0,p=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(Kr);t=De(t)||0,Gr(r)&&(p=!!r.leading,d="maxWait"in r,i=d?Yr(De(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function O(b){var j=n,$=o;return n=o=void 0,u=b,s=e.apply($,j),s}function C(b){return u=b,a=setTimeout(g,t),p?O(b):s}function L(b){var j=b-c,$=b-u,xe=t-j;return d?Jr(xe,i-$):xe}function N(b){var j=b-c,$=b-u;return c===void 0||j>=t||j<0||d&&$>=i}function g(){var b=ne();if(N(b))return q(b);a=setTimeout(g,L(b))}function q(b){return a=void 0,m&&n?O(b):(n=o=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,n=c=o=a=void 0}function x(){return a===void 0?s:q(ne())}function D(){var b=ne(),j=N(b);if(n=arguments,o=this,c=b,j){if(a===void 0)return C(c);if(d)return clearTimeout(a),a=setTimeout(g,t),O(c)}return a===void 0&&(a=setTimeout(g,t)),s}return D.cancel=S,D.flush=x,D}var Zr=Xr;const en=I(Zr);function tn(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var rn=tn;function nn(e){return e!==e}var on=nn;function sn(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}var an=sn,un=rn,ln=on,cn=an;function fn(e,t,r){return t===t?cn(e,t,r):un(e,ln,r)}var pn=fn,hn=V,dn=Ee,yn="[object AsyncFunction]",bn="[object Function]",mn="[object GeneratorFunction]",gn="[object Proxy]";function vn(e){if(!dn(e))return!1;var t=hn(e);return t==bn||t==mn||t==yn||t==gn}var On=vn,En=9007199254740991;function jn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=En}var pt=jn,wn=On,Sn=pt;function xn(e){return e!=null&&Sn(e.length)&&!wn(e)}var ht=xn,Fn=Array.isArray,te=Fn;const B=I(te);var kn=V,Tn=te,_n=M,Pn="[object String]";function Cn(e){return typeof e=="string"||!Tn(e)&&_n(e)&&kn(e)==Pn}var Rn=Cn,Dn=ft,An=1/0,Nn=17976931348623157e292;function Qn(e){if(!e)return e===0?e:0;if(e=Dn(e),e===An||e===-1/0){var t=e<0?-1:1;return t*Nn}return e===e?e:0}var In=Qn,Vn=In;function Mn(e){var t=Vn(e),r=t%1;return t===t?r?t-r:t:0}var Ln=Mn;function qn(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var dt=qn,$n=dt;function zn(e,t){return $n(t,function(r){return e[r]})}var Un=zn;function Wn(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Bn=Wn,Hn=V,Gn=M,Kn="[object Arguments]";function Yn(e){return Gn(e)&&Hn(e)==Kn}var Jn=Yn,Ae=Jn,Xn=M,yt=Object.prototype,Zn=yt.hasOwnProperty,eo=yt.propertyIsEnumerable,to=Ae(function(){return arguments}())?Ae:function(e){return Xn(e)&&Zn.call(e,"callee")&&!eo.call(e,"callee")},ro=to,Z={exports:{}};function no(){return!1}var oo=no;Z.exports;(function(e,t){var r=je,n=oo,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?r.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||n;e.exports=u})(Z,Z.exports);var io=Z.exports,so=9007199254740991,ao=/^(?:0|[1-9]\d*)$/;function uo(e,t){var r=typeof e;return t=t??so,!!t&&(r=="number"||r!="symbol"&&ao.test(e))&&e>-1&&e%1==0&&e<t}var lo=uo,co=V,fo=pt,po=M,ho="[object Arguments]",yo="[object Array]",bo="[object Boolean]",mo="[object Date]",go="[object Error]",vo="[object Function]",Oo="[object Map]",Eo="[object Number]",jo="[object Object]",wo="[object RegExp]",So="[object Set]",xo="[object String]",Fo="[object WeakMap]",ko="[object ArrayBuffer]",To="[object DataView]",_o="[object Float32Array]",Po="[object Float64Array]",Co="[object Int8Array]",Ro="[object Int16Array]",Do="[object Int32Array]",Ao="[object Uint8Array]",No="[object Uint8ClampedArray]",Qo="[object Uint16Array]",Io="[object Uint32Array]",h={};h[_o]=h[Po]=h[Co]=h[Ro]=h[Do]=h[Ao]=h[No]=h[Qo]=h[Io]=!0;h[ho]=h[yo]=h[ko]=h[bo]=h[To]=h[mo]=h[go]=h[vo]=h[Oo]=h[Eo]=h[jo]=h[wo]=h[So]=h[xo]=h[Fo]=!1;function Vo(e){return po(e)&&fo(e.length)&&!!h[co(e)]}var Mo=Vo;function Lo(e){return function(t){return e(t)}}var qo=Lo,ee={exports:{}};ee.exports;(function(e,t){var r=ut,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,s=i&&r.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(ee,ee.exports);var $o=ee.exports,zo=Mo,Uo=qo,Ne=$o,Qe=Ne&&Ne.isTypedArray,Wo=Qe?Uo(Qe):zo,Bo=Wo,Ho=Bn,Go=ro,Ko=te,Yo=io,Jo=lo,Xo=Bo,Zo=Object.prototype,ei=Zo.hasOwnProperty;function ti(e,t){var r=Ko(e),n=!r&&Go(e),o=!r&&!n&&Yo(e),i=!r&&!n&&!o&&Xo(e),s=r||n||o||i,a=s?Ho(e.length,String):[],c=a.length;for(var u in e)(t||ei.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Jo(u,c)))&&a.push(u);return a}var ri=ti,ni=Object.prototype;function oi(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ni;return e===r}var ii=oi;function si(e,t){return function(r){return e(t(r))}}var bt=si,ai=bt,ui=ai(Object.keys,Object),li=ui,ci=ii,fi=li,pi=Object.prototype,hi=pi.hasOwnProperty;function di(e){if(!ci(e))return fi(e);var t=[];for(var r in Object(e))hi.call(e,r)&&r!="constructor"&&t.push(r);return t}var yi=di,bi=ri,mi=yi,gi=ht;function vi(e){return gi(e)?bi(e):mi(e)}var Oi=vi,Ei=Un,ji=Oi;function wi(e){return e==null?[]:Ei(e,ji(e))}var Si=wi,xi=pn,Fi=ht,ki=Rn,Ti=Ln,_i=Si,Pi=Math.max;function Ci(e,t,r,n){e=Fi(e)?e:_i(e),r=r&&!n?Ti(r):0;var o=e.length;return r<0&&(r=Pi(o+r,0)),ki(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&xi(e,t,r)>-1}var Ri=Ci;const de=I(Ri);var Di=bt,Ai=Di(Object.getPrototypeOf,Object),Ni=Ai,Qi=V,Ii=Ni,Vi=M,Mi="[object Object]",Li=Function.prototype,qi=Object.prototype,mt=Li.toString,$i=qi.hasOwnProperty,zi=mt.call(Object);function Ui(e){if(!Vi(e)||Qi(e)!=Mi)return!1;var t=Ii(e);if(t===null)return!0;var r=$i.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mt.call(r)==zi}var Wi=Ui;const Ie=I(Wi);class Se extends y.Component{renderObjectFields(t){const r=this.props.omit.filter(o=>o==null?void 0:o.startsWith(`${this.props.fieldName}.`)).map(o=>o.replace(`${this.props.fieldName}.`,"")),n=this.props.only.filter(o=>o==null?void 0:o.startsWith(`${this.props.fieldName}.`)).map(o=>o.replace(`${this.props.fieldName}.`,""));return Object.keys(t).filter(o=>n.length?de(n,o):!0).filter(o=>!de(r,o)).map(o=>y.createElement(Se,{key:o,field:t[o],fieldName:o,getFieldComponent:this.props.getFieldComponent,extendFields:this.props.extendFields,passProps:this.props.passProps,omit:r,only:n}))}renderField(t){const{type:r,label:n,placeholder:o,description:i,fieldType:s,fieldOptions:a={}}=t,c={label:n,placeholder:o,description:i,...a,...this.props.passProps,fieldName:this.props.fieldName};return s?c.type=this.props.getFieldComponent(t):B(r)&&Ie(r[0])?(c.type=this.props.getFieldComponent({fieldType:"array"}),c.children=this.renderObjectFields(r[0])):Ie(r)?(c.type=this.props.getFieldComponent({fieldType:"plainObject"}),c.children=this.renderObjectFields(r)):c.type=this.props.getFieldComponent(t),y.createElement(ot.Field,{...c})}render(){return this.renderField(this.props.field)}}const Bi=(e,t,r)=>{const n=s=>{if(r!=null&&r[s])return r[s];t||(t=F.getField);const a=t(s);if(!a)throw new Error(`No field component for type: ${s}`);return a};if(e.fieldType)return n(e.fieldType);const o=B(e.type)?e.type[0]:e.type,i=B(e.type)?`[${o}]`:o;return n(i)},gt=class extends y.Component{constructor(){super(...arguments),this.getFieldComponent=t=>Bi(t,this.props.getField,this.props.extendFields)}renderFields(t){if(!t||Object.keys(t).length===0)return;const r=this.props.omit?B(this.props.omit)?this.props.omit:[this.props.omit]:[],n=this.props.only?B(this.props.only)?this.props.only:[this.props.only]:[];return Object.keys(t).filter(o=>{if(!n.length)return!0;for(const i of n)if(i.startsWith(o))return!0;return!1}).filter(o=>!de(r,o)).map(o=>y.createElement(Se,{key:o,omit:r,only:n,field:t[o],fieldName:o,getFieldComponent:this.getFieldComponent,extendFields:this.props.extendFields,passProps:this.props.passProps}))}render(){return this.renderFields(this.props.params)}};gt.defaultProps={passProps:{}};let Hi=gt;const vt=class extends y.Component{constructor(t){super(t),this.state={},this.form=null,this.setupButton=()=>{const r=this.props.buttonRef;r!=null&&r.current&&(r.current.setOnClick(this.submit),r.current.setFormId&&r.current.setFormId(this.props.formId))},this.submit=this.submit.bind(this),this.onSubmit=this.onSubmit.bind(this),this.submitForm=this.submitForm.bind(this),this.validate=this.validate.bind(this),this.onChange=this.onChange.bind(this)}componentDidMount(){this.setupButton(),setTimeout(this.setupButton,10),setTimeout(this.setupButton,100)}componentWillUnmount(){const t=this.props.buttonRef;t!=null&&t.current&&(t.current.setOnClick(null),t.current.setFormId&&t.current.setFormId(null))}submit(){return this.submitForm()}handleError(t,r){var n;if(t.graphQLErrors)for(const o of t.graphQLErrors)if((n=o.extensions)!=null&&n.isValidationError){const i=o.extensions.info.validationErrors;console.log("Validation errors",i),this.setState({validationErrors:i,doc:r}),this.props.onValidationError(i)}else if(o.validationErrors)console.log("Validation errors",o.validationErrors),this.setState({validationErrors:o.validationErrors,doc:r}),this.props.onValidationError(o.validationErrors);else if(o.error==="PermissionsError"&&o.type==="missingRoles"){const i=o.roles;alert(`Client is unauthorized, missing roles: ${i.join(", ")}`)}else console.log(o),this.props.onError(o);else alert(t.message)}async onSubmit(){const t=this.props.buttonRef;return t!=null&&t.current?t.current.click():this.submit()}async submitForm(){const t=this.form.getValue();try{if(await this.validate(t))return{error:new Error("validationError"),result:null};const r=await this.props.clean(this.props.schema,t),n=await this.props.mutate(r);return{error:null,result:await this.props.onSuccess(n)}}catch(r){return this.handleError(r,t),{error:r,result:null}}}async validate(t){this.setState({validationErrors:null});try{const r=await this.props.clean(this.props.schema,t),n=await this.props.validate(this.props.schema,r);return this.setState({validationErrors:n,doc:t}),n&&(console.log("validationErrors:",n),this.props.onValidationError(n)),n}catch(r){console.error("Error validating",r)}}onChange(t){this.setState({doc:t}),this.props.onChange(t)}getErrorMessages(){const{validationErrors:t}=this.state;if(!t)return;const r={};for(const n of Object.keys(t)){const o=t[n];let i=ce.dotGetSchema(this.props.schema,n);if(!i)continue;i={label:this.props.getDefaultLabel(),...i};const s=this.props.getErrorText(o,i)||o;r[n]=s}return r}render(){return this.props.setRef(this),y.createElement(ot.Form,{id:this.props.formId,ref:t=>{this.form=t},state:this.props.doc,errorMessages:this.getErrorMessages(),onChange:this.onChange,useFormTag:this.props.useFormTag,onSubmit:this.onSubmit,className:this.props.className},this.props.children)}};vt.defaultProps={onChange:()=>{},getErrorFieldLabel:e=>e,useFormTag:!0};let Gi=vt;function Ki({formId:e,children:t}){const r=nt.useId(),n=e||r;return y.createElement(y.Fragment,null,t(n))}class Yi extends y.Component{getArguments(){const t=Object.keys(this.props.params);return t.length===0?"":`(${t.map(r=>{const n=this.props.params[r];return`$${r}: ${n.__graphQLType}`}).join(", ")})`}getParams(){const t=Object.keys(this.props.params);return t.length===0?"":`(${t.map(r=>`${r}: $${r}`).join(", ")})`}getSubselection(){const t=this.props.fragment;return t?`{...${t.definitions[0].name.value}}`:""}getMutationText(){return`
      mutation ${this.props.mutation} ${this.getArguments()} {
        result: ${this.props.mutation}  ${this.getParams()} ${this.getSubselection()}
      }
    `}getMutation(){const{client:t,fragment:r,refetchQueries:n}=this.props,o=this.getMutationText(),i=R([o,""],r||"");return async s=>{const{data:a}=await t.mutate({mutation:i,variables:s,refetchQueries:n});return a.result}}render(){const t=this.getMutation();return this.props.children(t)}}var Ot={exports:{}},oe,Ve;function Ji(){if(Ve)return oe;Ve=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oe=e,oe}var ie,Me;function Xi(){if(Me)return ie;Me=1;var e=Ji();function t(){}function r(){}return r.resetWarningCache=t,ie=function(){function n(s,a,c,u,p,d){if(d!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function o(){return n}var i={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},ie}Ot.exports=Xi()();var E=Ot.exports,se="Invariant Violation",Le=Object.setPrototypeOf,Zi=Le===void 0?function(e,t){return e.__proto__=t,e}:Le,es=function(e){it(t,e);function t(r){r===void 0&&(r=se);var n=e.call(this,typeof r=="number"?se+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=se,Zi(n,t.prototype),n}return t}(Error);function Q(e,t){if(!e)throw new es(t)}var Et=["debug","log","warn","error","silent"],ts=Et.indexOf("log");function G(e){return function(){if(Et.indexOf(e)>=ts){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=G("debug"),e.log=G("log"),e.warn=G("warn"),e.error=G("error")})(Q);var jt="3.10.8";function _(e){try{return e()}catch{}}const ye=_(function(){return globalThis})||_(function(){return window})||_(function(){return self})||_(function(){return global})||_(function(){return _.constructor("return this")()});var qe=new Map;function rs(e){var t=qe.get(e)||1;return qe.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function ns(e,t){var r=rs("stringifyForDisplay");return JSON.stringify(e,function(n,o){return o===void 0?r:o},t).split(JSON.stringify(r)).join("<undefined>")}function K(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(typeof t=="number"){var o=t;t=St(o),t||(t=xt(o,r),r=[])}e.apply(void 0,[t].concat(r))}}var k=Object.assign(function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||Q(e,St(t,r)||xt(t,r))},{debug:K(Q.debug),log:K(Q.log),warn:K(Q.warn),error:K(Q.error)}),$e=Symbol.for("ApolloErrorMessageHandler_"+jt);function wt(e){if(typeof e=="string")return e;try{return ns(e,2).slice(0,1e3)}catch{return"<non-serializable>"}}function St(e,t){if(t===void 0&&(t=[]),!!e)return ye[$e]&&ye[$e](e,t.map(wt))}function xt(e,t){if(t===void 0&&(t=[]),!!e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:jt,message:e,args:t.map(wt)})))}var Ft={exports:{}};(function(e){e.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,e.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,e.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(e.exports,y)})(Ft);var v=Ft.exports;const os=I(v),kt=Jt({__proto__:null,default:os},[v]);var Tt=_(function(){return navigator.product})=="ReactNative",is=typeof WeakMap=="function"&&!(Tt&&!global.HermesInternal),ss=typeof Symbol=="function"&&typeof Symbol.for=="function",as=typeof _(function(){return window.document.createElement})=="function",us=_(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,ls=(as||Tt)&&!us;function be(e){return e!==null&&typeof e=="object"}function me(){}const cs=me,fs=typeof WeakRef<"u"?WeakRef:function(e){return{deref:()=>e}},ps=typeof WeakMap<"u"?WeakMap:Map,hs=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:me,unregister:me}},ds=10024;class ze{constructor(t=1/0,r=cs){this.max=t,this.dispose=r,this.map=new ps,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let o=0;o<ds;o++){const i=n.next().value;if(!i)break;this.unfinalizedNodes.delete(i);const s=i.key;delete i.key,i.keyRef=new fs(s),this.registry.register(s,i,i)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new hs(this.deleteNode.bind(this))}has(t){return this.map.has(t)}get(t){const r=this.getNode(t);return r&&r.value}getNode(t){const r=this.map.get(t);if(r&&r!==this.newest){const{older:n,newer:o}=r;o&&(o.older=n),n&&(n.newer=o),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=o)}return r}set(t,r){let n=this.getNode(t);return n?n.value=r:(n={key:t,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(t,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(t){t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.size--;const r=t.key||t.keyRef&&t.keyRef.deref();this.dispose(t.value,r),t.keyRef?this.registry.unregister(t):this.unfinalizedNodes.delete(t),r&&this.map.delete(r)}delete(t){const r=this.map.get(t);return r?(this.deleteNode(r),!0):!1}scheduleFinalization(t){this.unfinalizedNodes.add(t),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var ae=new WeakSet;function ys(e){e.size<=(e.max||-1)||ae.has(e)||(ae.add(e),setTimeout(function(){e.clean(),ae.delete(e)},100))}var bs=function(e,t){var r=new ze(e,t);return r.set=function(n,o){var i=ze.prototype.set.call(this,n,o);return ys(this),i},r},ms=Symbol.for("apollo.cacheSize"),gs=T({},ye[ms]);function Ue(e){return Array.isArray(e)&&e.length>0}function vs(e){var t=new Set([e]);return t.forEach(function(r){be(r)&&Os(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){be(r[n])&&t.add(r[n])})}),e}function Os(e){if(globalThis.__DEV__!==!1&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function We(e){return globalThis.__DEV__!==!1&&vs(e),e}function ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach(function(n){n&&Object.keys(n).forEach(function(o){var i=n[o];i!==void 0&&(r[o]=i)})}),r}function Es(e,t){return ge(e,t,t.variables&&{variables:ge(T(T({},e&&e.variables),t.variables))})}var Be=ss?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function _t(){k("createContext"in kt,45);var e=v.createContext[Be];return e||(Object.defineProperty(v.createContext,Be,{value:e=v.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function Pt(e){var t=v.useContext(_t()),r=e||t.client;return k(!!r,49),r}var He=!1,js="useSyncExternalStore",ws=kt[js],Ss=ws||function(e,t,r){var n=t();globalThis.__DEV__!==!1&&!He&&n!==t()&&(He=!0,globalThis.__DEV__!==!1&&k.error(58));var o=v.useState({inst:{value:n,getSnapshot:t}}),i=o[0].inst,s=o[1];return ls?v.useLayoutEffect(function(){Object.assign(i,{value:n,getSnapshot:t}),ue(i)&&s({inst:i})},[e,n,t]):Object.assign(i,{value:n,getSnapshot:t}),v.useEffect(function(){return ue(i)&&s({inst:i}),e(function(){ue(i)&&s({inst:i})})},[e]),n};function ue(e){var t=e.value,r=e.getSnapshot;try{return t!==r()}catch{return!0}}const{toString:Ge,hasOwnProperty:xs}=Object.prototype,Ke=Function.prototype.toString,ve=new Map;function le(e,t){try{return Oe(e,t)}finally{ve.clear()}}function Oe(e,t){if(e===t)return!0;const r=Ge.call(e),n=Ge.call(t);if(r!==n)return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Je(e,t))return!0;const o=Ye(e),i=Ye(t),s=o.length;if(s!==i.length)return!1;for(let a=0;a<s;++a)if(!xs.call(t,o[a]))return!1;for(let a=0;a<s;++a){const c=o[a];if(!Oe(e[c],t[c]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Je(e,t))return!0;const o=e.entries(),i=r==="[object Map]";for(;;){const s=o.next();if(s.done)break;const[a,c]=s.value;if(!t.has(a)||i&&!Oe(c,t.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let o=e.byteLength;if(o===t.byteLength)for(;o--&&e[o]===t[o];);return o===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const o=Ke.call(e);return o!==Ke.call(t)?!1:!Ts(o,ks)}}return!1}function Ye(e){return Object.keys(e).filter(Fs,e)}function Fs(e){return this[e]!==void 0}const ks="{ [native code] }";function Ts(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}function Je(e,t){let r=ve.get(e);if(r){if(r.has(t))return!0}else ve.set(e,r=new Set);return r.add(t),!1}var _s=function(e){var t=re(re(re([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors);return e.networkError&&t.push(e.networkError),t.map(function(r){return be(r)&&r.message||"Error message not found."}).join(`
`)},Xe=function(e){it(t,e);function t(r){var n=r.graphQLErrors,o=r.protocolErrors,i=r.clientErrors,s=r.networkError,a=r.errorMessage,c=r.extraInfo,u=e.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=n||[],u.protocolErrors=o||[],u.clientErrors=i||[],u.networkError=s||null,u.message=a||_s(u),u.extraInfo=c,u.__proto__=t.prototype,u}return t}(Error),A;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(A||(A={}));var P;(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})(P||(P={}));var W;function Ze(e){var t;switch(e){case P.Query:t="Query";break;case P.Mutation:t="Mutation";break;case P.Subscription:t="Subscription";break}return t}function Ct(e){W||(W=new bs(gs.parser||1e3));var t=W.get(e);if(t)return t;var r,n,o;k(!!e&&!!e.kind,60,e);for(var i=[],s=[],a=[],c=[],u=0,p=e.definitions;u<p.length;u++){var d=p[u];if(d.kind==="FragmentDefinition"){i.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":s.push(d);break;case"mutation":a.push(d);break;case"subscription":c.push(d);break}}k(!i.length||s.length||a.length||c.length,61),k(s.length+a.length+c.length<=1,62,e,s.length,c.length,a.length),n=s.length?P.Query:P.Mutation,!s.length&&!a.length&&(n=P.Subscription);var m=s.length?s:a.length?a:c;k(m.length===1,63,e,m.length);var O=m[0];r=O.variableDefinitions||[],O.name&&O.name.kind==="Name"?o=O.name.value:o="data";var C={name:o,type:n,variables:r};return W.set(e,C),C}Ct.resetCache=function(){W=void 0};function Ps(e,t){var r=Ct(e),n=Ze(t),o=Ze(r.type);k(r.type===t,64,n,n,o)}var Cs=Symbol.for("apollo.hook.wrappers");function Rs(e,t,r){var n=r.queryManager,o=n&&n[Cs],i=o&&o[e];return i?i(t):t}var Ds=Object.prototype.hasOwnProperty;function As(e,t){return t===void 0&&(t=Object.create(null)),Rs("useQuery",Ns,Pt(t&&t.client))(e,t)}function Ns(e,t){return Qs(Pt(t.client),e).useQuery(t)}function Qs(e,t){var r=v.useReducer(function(a){return a+1},0)[1];function n(a){return Object.assign(new Is(e,t,a),{forceUpdateState:r})}var o=v.useState(n),i=o[0],s=o[1];return(e!==i.client||t!==i.query)&&s(i=n(i)),i}var Is=function(){function e(t,r,n){var o=this;this.client=t,this.query=r,this.forceUpdate=function(){return o.forceUpdateState()},this.ssrDisabledResult=We({loading:!0,data:void 0,error:void 0,networkStatus:A.loading}),this.skipStandbyResult=We({loading:!1,data:void 0,error:void 0,networkStatus:A.ready}),this.toQueryResultCache=new(is?WeakMap:Map),Ps(r,P.Query);var i=n&&n.result,s=i&&i.data;s&&(this.previousData=s)}return e.prototype.forceUpdateState=function(){globalThis.__DEV__!==!1&&k.warn(51)},e.prototype.executeQuery=function(t){var r=this,n;t.query&&Object.assign(this,{query:t.query}),this.watchQueryOptions=this.createWatchQueryOptions(this.queryHookOptions=t);var o=this.observable.reobserveAsConcast(this.getObsQueryOptions());return this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0,this.forceUpdate(),new Promise(function(i){var s;o.subscribe({next:function(a){s=a},error:function(){i(r.toQueryResult(r.observable.getCurrentResult()))},complete:function(){i(r.toQueryResult(s))}})})},e.prototype.useQuery=function(t){var r=this;this.renderPromises=v.useContext(_t()).renderPromises,this.useOptions(t);var n=this.useObservableQuery(),o=Ss(v.useCallback(function(i){if(r.renderPromises)return function(){};r.forceUpdate=i;var s=function(){var u=r.result,p=n.getCurrentResult();u&&u.loading===p.loading&&u.networkStatus===p.networkStatus&&le(u.data,p.data)||r.setResult(p)},a=function(u){if(c.unsubscribe(),c=n.resubscribeAfterError(s,a),!Ds.call(u,"graphQLErrors"))throw u;var p=r.result;(!p||p&&p.loading||!le(u,p.error))&&r.setResult({data:p&&p.data,error:u,loading:!1,networkStatus:A.error})},c=n.subscribe(s,a);return function(){setTimeout(function(){return c.unsubscribe()}),r.forceUpdate=function(){return r.forceUpdateState()}}},[n,this.renderPromises,this.client.disableNetworkFetches]),function(){return r.getCurrentResult()},function(){return r.getCurrentResult()});return this.unsafeHandlePartialRefetch(o),this.toQueryResult(o)},e.prototype.useOptions=function(t){var r,n=this.createWatchQueryOptions(this.queryHookOptions=t),o=this.watchQueryOptions;le(n,o)||(this.watchQueryOptions=n,o&&this.observable&&(this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((r=this.result)===null||r===void 0?void 0:r.data)||this.previousData,this.result=void 0)),this.onCompleted=t.onCompleted||e.prototype.onCompleted,this.onError=t.onError||e.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},e.prototype.getObsQueryOptions=function(){var t=[],r=this.client.defaultOptions.watchQuery;return r&&t.push(r),this.queryHookOptions.defaultOptions&&t.push(this.queryHookOptions.defaultOptions),t.push(ge(this.observable&&this.observable.options,this.watchQueryOptions)),t.reduce(Es)},e.prototype.createWatchQueryOptions=function(t){var r;t===void 0&&(t={});var n=t.skip;t.ssr,t.onCompleted,t.onError,t.defaultOptions;var o=pe(t,["skip","ssr","onCompleted","onError","defaultOptions"]),i=Object.assign(o,{query:this.query});if(this.renderPromises&&(i.fetchPolicy==="network-only"||i.fetchPolicy==="cache-and-network")&&(i.fetchPolicy="cache-first"),i.variables||(i.variables={}),n){var s=i.fetchPolicy,a=s===void 0?this.getDefaultFetchPolicy():s,c=i.initialFetchPolicy,u=c===void 0?a:c;Object.assign(i,{initialFetchPolicy:u,fetchPolicy:"standby"})}else i.fetchPolicy||(i.fetchPolicy=((r=this.observable)===null||r===void 0?void 0:r.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return i},e.prototype.getDefaultFetchPolicy=function(){var t,r;return((t=this.queryHookOptions.defaultOptions)===null||t===void 0?void 0:t.fetchPolicy)||((r=this.client.defaultOptions.watchQuery)===null||r===void 0?void 0:r.fetchPolicy)||"cache-first"},e.prototype.onCompleted=function(t){},e.prototype.onError=function(t){},e.prototype.useObservableQuery=function(){var t=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=v.useMemo(function(){return{refetch:t.refetch.bind(t),reobserve:t.reobserve.bind(t),fetchMore:t.fetchMore.bind(t),updateQuery:t.updateQuery.bind(t),startPolling:t.startPolling.bind(t),stopPolling:t.stopPolling.bind(t),subscribeToMore:t.subscribeToMore.bind(t)}},[t]);var r=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&r&&(this.renderPromises.registerSSRObservable(t),t.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(t)),t},e.prototype.setResult=function(t){var r=this.result;r&&r.data&&(this.previousData=r.data),this.result=t,this.forceUpdate(),this.handleErrorOrCompleted(t,r)},e.prototype.handleErrorOrCompleted=function(t,r){var n=this;if(!t.loading){var o=this.toApolloError(t);Promise.resolve().then(function(){o?n.onError(o):t.data&&(r==null?void 0:r.networkStatus)!==t.networkStatus&&t.networkStatus===A.ready&&n.onCompleted(t.data)}).catch(function(i){globalThis.__DEV__!==!1&&k.warn(i)})}},e.prototype.toApolloError=function(t){return Ue(t.errors)?new Xe({graphQLErrors:t.errors}):t.error},e.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},e.prototype.toQueryResult=function(t){var r=this.toQueryResultCache.get(t);if(r)return r;var n=t.data;t.partial;var o=pe(t,["data","partial"]);return this.toQueryResultCache.set(t,r=T(T(T({data:n},o),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!r.error&&Ue(t.errors)&&(r.error=new Xe({graphQLErrors:t.errors})),r},e.prototype.unsafeHandlePartialRefetch=function(t){t.partial&&this.queryHookOptions.partialRefetch&&!t.loading&&(!t.data||Object.keys(t.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(t,{loading:!0,networkStatus:A.refetch}),this.observable.refetch())},e}();function Rt(e){var t=e.children,r=e.query,n=pe(e,["children","query"]),o=As(r,n);return o?t(o):null}Rt.propTypes={client:E.object,children:E.func.isRequired,fetchPolicy:E.string,notifyOnNetworkStatusChange:E.bool,onCompleted:E.func,onError:E.func,pollInterval:E.number,query:E.object.isRequired,variables:E.object,ssr:E.bool,partialRefetch:E.bool,returnPartialData:E.bool};const Vs=nt.createContext(null),Ms=R`
  query getParams($name: ID) {
    params(name: $name, mutation: true) {
      name
      result
      basicResultQuery
      params
    }
  }
`;class Ls extends y.Component{render(){return y.createElement(Rt,{fetchPolicy:this.props.fetchPolicy,query:Ms,variables:{name:this.props.name},client:this.props.client},t=>{const{error:r,data:n}=t;return n!=null&&n.params?y.createElement(Vs.Provider,{value:n.params},this.props.children(n.params)):r?(console.error("Error fetching autoform information"),console.error(r),null):this.props.loading?this.props.loading:null})}}var et=we,qs=dt,$s=te,zs=ct,tt=et?et.prototype:void 0,rt=tt?tt.toString:void 0;function Dt(e){if(typeof e=="string")return e;if($s(e))return qs(e,Dt)+"";if(zs(e))return rt?rt.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Us=Dt,Ws=Us;function Bs(e){return e==null?"":Ws(e)}var Hs=Bs,Gs=Hs,Ks=0;function Ys(e){var t=++Ks;return Gs(e)+t}var Js=Ys;const Xs=I(Js);function Zs({name:e,result:t,basicResultQuery:r}){if(r==="")return;const n=`fragment ${`${e}_${Xs()}`} on ${t} ${r}`;return R([n])}const F={getField:()=>{throw new Error("You must pass a getField function")},onError:e=>alert(e.message),getErrorText:(e,t)=>e,loading:null,defaultFetchPolicy:"cache-first",getDefaultLabel:()=>"This field"},At=class extends y.Component{constructor(t){super(t),this.form=null,this.debouncedSubmit=null,this.submit=()=>this.form.submit(),this.reset=()=>{this.form.form.reset()},this.onSuccess=async r=>{this.props.onSuccess&&await this.props.onSuccess(r),this.props.resetOnSubmit&&this.reset()},this.onChange=r=>{this.props.onChange&&this.props.onChange(r),this.props.autoSave&&this.debouncedSubmit()},this.setDoc=r=>{this.onChange(r)},this.debouncedSubmit=en(this.submit,t.autoSaveDebounceTime)}renderLoading(){return typeof this.props.children=="function"||!this.props.children?y.createElement(y.Fragment,null,F.loading):y.createElement(y.Fragment,null,this.props.children)}renderChildren({params:t}){return this.props.children?typeof this.props.children=="function"?this.props.children({params:t,omit:this.props.omit,only:this.props.only,extendFields:this.props.extendFields}):this.props.children:y.createElement(Hi,{getField:F.getField,extendFields:this.props.extendFields||{},params:t,omit:this.props.omit,only:this.props.only})}getFragment({name:t,result:r,basicResultQuery:n}){return this.props.fragment?this.props.fragment.loc?this.props.fragment:R`${Gt(this.props.fragment)}`:Zs({name:t,result:r,basicResultQuery:n})}render(){const t=F.getClient?F.getClient():void 0,r=this.props.client?this.props.client:t;if(!r)throw new Error("You must pass a client or pass a getClient function");return y.createElement(Ls,{fetchPolicy:this.props.fetchPolicy||F.defaultFetchPolicy,name:this.props.mutation,loading:this.renderLoading(),client:r},({name:n,result:o,basicResultQuery:i,params:s})=>y.createElement(Yi,{client:r,refetchQueries:this.props.refetchQueries,params:s,fragment:this.getFragment({name:n,result:o,basicResultQuery:i}),mutation:this.props.mutation},a=>y.createElement(Ki,{formId:this.props.formId},c=>y.createElement(Gi,{setRef:u=>{this.form=u},buttonRef:this.props.buttonRef,doc:this.props.doc,mutate:a,useFormTag:this.props.useFormTag,className:this.props.className,onChange:this.onChange,params:s,getDefaultLabel:this.props.getDefaultLabel,schema:this.props.schema||s,onSuccess:this.onSuccess,onError:this.props.onError,getErrorFieldLabel:this.props.getErrorFieldLabel,onValidationError:this.props.onValidationError,clean:this.props.clean,getErrorText:this.props.getErrorText,validate:this.props.validate,formId:c},this.renderChildren({params:this.props.schema||s})))))}};At.defaultProps={clean:ce.clean,validate:ce.getValidationErrors,omit:[],only:[],onSuccess:()=>{},onValidationError:()=>{},onError:e=>F.onError(e),getErrorText:(e,t)=>F.getErrorText(e,t),getDefaultLabel:()=>F.getDefaultLabel(),autoSaveDebounceTime:500};let aa=At;function ua(e){for(const t in e)F[t]=e[t]}export{Wt as B,ua as L,aa as W,Hi as a,Gt as p,Bt as v};
