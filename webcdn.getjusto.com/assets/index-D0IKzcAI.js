import{r as N,j as x}from"./jsx-runtime-BGxL3LVy.js";import{i as l}from"./apollo-hooks.es-DZ97-Of4.js";import{r as g}from"./round-BOm5nOcu.js";import{T as h}from"./index-DnxNFHVa.js";const v="es-CL";function c(e){return e.toLocaleString(v)}function m(e,n){if(e==="-")return 0;const a=1234.5.toLocaleString(v).match(/(\D+)/g);let t=e;t=t.split(a[0]).join(""),t=t.split(a[1]).join(".");const u=Number.parseFloat(t);return g(u,l(n.maxDecimals)?8:n.maxDecimals)}function T(e){const{factor:n=1}=e,a=Number(e.value)/n,[t,u]=N.useState(l(e.value)||Number.isNaN(e.value)?"":c(a)),i=r=>{if(u(r),!!e.onChange)if(r){const f=m(r,e);if(Number.isNaN(f))u("");else{const s=f*n;e.value!==s&&e.onChange(s)}}else l(e.value)||e.onChange(null)},o=l(e.value)||Number.isNaN(e.value)?"":c(a);return N.useEffect(()=>{o!==t&&i(o)},[o]),x.jsx(h,{...e,placeholder:e.placeholder,value:t,onChange:i,onBlur:()=>{i(c(m(t,e))),e.onBlur&&e.onBlur(m(t,e)*n)}})}export{T as N};
