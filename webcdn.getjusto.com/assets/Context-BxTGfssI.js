const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BQgm_2WG.js","assets/jsx-runtime-BGxL3LVy.js","assets/useWebsite-B2NA3eOh.js","assets/index-CylivXx-.js","assets/env-D6s-xqZ4.js","assets/useLocalStorage-DsJe66XE.js","assets/useSearchParams-R8k8eN7N.js","assets/index-CXeFjl5i.js","assets/useStateWithTransition-BEN_QdyR.js","assets/useHydrated-DGqRnkd3.js","assets/index-Dg1ijqza.js","assets/tslib.es6-B4nGuNfR.js","assets/apollo-hooks.es-DZ97-Of4.js","assets/identity-CwXImgea.js","assets/module-_ASt7nc-.js"])))=>i.map(i=>d[i]);
import{r as Q,g as le,a as be,c as xe}from"./jsx-runtime-BGxL3LVy.js";import{u as D,f as Ce,g as Pe,c as fe}from"./useWebsite-B2NA3eOh.js";import{u as Se,g as pe}from"./useSearchParams-R8k8eN7N.js";import{a as Fe}from"./useStateWithTransition-BEN_QdyR.js";import{u as Ae}from"./useHydrated-DGqRnkd3.js";import{u as Oe,g as Ie}from"./index-Dg1ijqza.js";import{a as Ee,i as te,j as ie}from"./env-D6s-xqZ4.js";import{u as Te,g as Le}from"./useLocalStorage-DsJe66XE.js";import{u as ke}from"./index-CXeFjl5i.js";import{i as Me}from"./apollo-hooks.es-DZ97-Of4.js";import{j as K}from"./module-_ASt7nc-.js";function Ue(){const u=!!D().terms.website_cookies,[p,w]=Te("cookies",null),_=Ae(),c=Oe();return{show:Ee&&_?!p&&c.shouldPromptForCookies:!1,permissions:c.shouldPromptForCookies?p:{necessary:!0,marketing:!0,analytics:!0},hasCustomCookiesPolicy:u,setPermissions:w}}function Ot(){const[a]=Se("q",""),u=ke(),[p,w]=Fe(!1),_=Ue(),c={searchFilter:a,setSearchFilter:y=>{u(`/pedir?q=${encodeURIComponent(y)}`)},cartOpen:p,setCartOpen:w,cookies:_};return Q.useMemo(()=>c,Object.values(c))}const Be=Ce(null);function Re(a){return Pe(Be,a)}const qe="modulepreload",ze=function(a){return"https://webcdn.getjusto.com/"+a},oe={},Ne=function(u,p,w){let _=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),e=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));_=Promise.allSettled(p.map(t=>{if(t=ze(t),t in oe)return;oe[t]=!0;const m=t.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${b}`))return;const F=document.createElement("link");if(F.rel=m?"stylesheet":qe,m||(F.as="script"),F.crossOrigin="",F.href=t,e&&F.setAttribute("nonce",e),document.head.appendChild(F),m)return new Promise((x,S)=>{F.addEventListener("load",x),F.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${t}`)))})}))}function c(y){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=y,window.dispatchEvent(e),!e.defaultPrevented)throw y}return _.then(y=>{for(const e of y||[])e.status==="rejected"&&c(e.reason);return u().catch(c)})};let B;function je(a){var y,e,t,m,b,F;const u=D(),p=(t=(e=(y=u==null?void 0:u.integrationsConfiguration)==null?void 0:y.integrations)==null?void 0:e.braze)==null?void 0:t.apiKey,w=(F=(b=(m=u==null?void 0:u.integrationsConfiguration)==null?void 0:m.integrations)==null?void 0:b.braze)==null?void 0:F.endpoint,_=!!p&&!!w,c=u.country.defaultCurrency;return{requiresMarketingConsent:!1,isActive(){return _},async init(){console.log("Braze:init"),Ne(()=>import("./index-BQgm_2WG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(x=>{console.log("Braze:initialized",{instance:x}),B=x,B.initialize(p,{baseUrl:w,enableLogging:!1}),B.openSession()}).catch(x=>{console.error("Braze:initError",{error:x})})},async identifyUser(x){if(console.log("Braze:identifyUser",{context:a,braze:B}),!a.user||!B)return;const{changeUser:S,getUser:O}=B;S(x.userId),O().setFirstName(a.user.profile.firstName),O().setLastName(a.user.profile.lastName),O().setEmail(a.user.email),O().setCustomUserAttribute("points",a.user.websiteCoinsBalance),console.log("Braze:identifyUser",{session:x})},async loginStarted(){},async loginCompleted(x){if(!B)return;const{changeUser:S,getUser:O}=B;S(x.userId),O().setFirstName(a.user.profile.firstName),O().setLastName(a.user.profile.lastName),O().setEmail(a.user.email),O().setCustomUserAttribute("points",a.user.websiteCoinsBalance),console.log("Braze:loginCompleted",{session:x})},async pageView(){},async productViewed(x){var O;if(!B)return;const{logCustomEvent:S}=B;S("product_selected",{product_id:x._id,product_name:x.name,product_price:(O=x.availabilityAt)==null?void 0:O.finalPrice,currency:c}),console.log("Braze:productViewed",{product:x})},async productAddedToCart(x){if(!B)return;const{logCustomEvent:S}=B;S("add_to_cart",{currency:this.currencyCode,products:[{product_id:x.productId,product_name:x.product.name,product_price:x.totalPrice}]}),console.log("Braze:productAddedToCart",{cartItem:x})},async cartItemUpdated(x){},async cartItemRemoved(x){},async orderStarted(){},async checkoutStarted(x,S){},async preferencesUpdated(x,S){},async orderCreated(x){},async orderPaid(x){if(!B)return;const{logPurchase:S}=B;S("order_completed",x.totalPrice,c,1,{transaction_id:x._id,products:x.items.map(O=>{var M,V;return{product_id:(M=O==null?void 0:O.product)==null?void 0:M._id,product_name:(V=O==null?void 0:O.product)==null?void 0:V.name,product_price:O==null?void 0:O.unitPrice,product_amount:O==null?void 0:O.amount}})}),console.log("Braze:orderPaid",{order:x})},async createOrderError(x,S,O){},async errorScreenShown(x){}}}var he={},ye={},ge={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=function(){for(var _=arguments.length,c=new Array(_),y=0;y<_;y++)c[y]=arguments[y];if(typeof window<"u"){var e;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(e=window).gtag.apply(e,c)}},p=u;a.default=p})(ge);var me={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=y;var u=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function p(e){return e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,m,b){return m>0&&m+t.length!==b.length&&t.search(u)>-1&&b.charAt(m-2)!==":"&&(b.charAt(m+t.length)!=="-"||b.charAt(m-1)==="-")&&b.charAt(m-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})}function w(e){return typeof e=="string"&&e.indexOf("@")!==-1}var _="REDACTED (Potential Email Address)";function c(e){return w(e)?(console.warn("This arg looks like an email address, redacting."),_):e}function y(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,b=e||"";return t&&(b=p(e)),m&&(b=c(b)),b}})(me);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.GA4=void 0;var u=y(ge),p=y(me),w=["eventCategory","eventAction","eventLabel","eventValue","hitType"],_=["title","location"],c=["page","hitType"];function y(n){return n&&n.__esModule?n:{default:n}}function e(n,r){if(n==null)return{};var i=t(n,r),o,g;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(n);for(g=0;g<f.length;g++)o=f[g],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(i[o]=n[o])}return i}function t(n,r){if(n==null)return{};var i={},o=Object.keys(n),g,f;for(f=0;f<o.length;f++)g=o[f],!(r.indexOf(g)>=0)&&(i[g]=n[g]);return i}function m(n){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},m(n)}function b(n){return S(n)||x(n)||H(n)||F()}function F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function S(n){if(Array.isArray(n))return L(n)}function O(n,r){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable})),i.push.apply(i,o)}return i}function M(n){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?O(Object(i),!0).forEach(function(o){d(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}function V(n,r){return R(n)||G(n,r)||H(n,r)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(n,r){if(n){if(typeof n=="string")return L(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return L(n,r)}}function L(n,r){(r==null||r>n.length)&&(r=n.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=n[i];return o}function G(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,g,f,I,E=[],T=!0,k=!1;try{if(f=(i=i.call(n)).next,r!==0)for(;!(T=(o=f.call(i)).done)&&(E.push(o.value),E.length!==r);T=!0);}catch(U){k=!0,g=U}finally{try{if(!T&&i.return!=null&&(I=i.return(),Object(I)!==I))return}finally{if(k)throw g}}return E}}function R(n){if(Array.isArray(n))return n}function s(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function v(n,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,P(o.key),o)}}function C(n,r,i){return v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function d(n,r,i){return r=P(r),r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n}function P(n){var r=h(n,"string");return m(r)==="symbol"?r:String(r)}function h(n,r){if(m(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r||"default");if(m(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}var A=function(){function n(){var r=this;s(this,n),d(this,"reset",function(){r.isInitialized=!1,r._testMode=!1,r._currentMeasurementId,r._hasLoadedGA=!1,r._isQueuing=!1,r._queueGtag=[]}),d(this,"_gtag",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];r._testMode||r._isQueuing?r._queueGtag.push(o):u.default.apply(void 0,o)}),d(this,"_loadGA",function(i,o){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!r._hasLoadedGA){var f=document.createElement("script");f.async=!0,f.src="".concat(g,"?id=").concat(i),o&&f.setAttribute("nonce",o),document.body.appendChild(f),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},r._hasLoadedGA=!0}}),d(this,"_toGtagOptions",function(i){if(i){var o={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},g=Object.entries(i).reduce(function(f,I){var E=V(I,2),T=E[0],k=E[1];return o[T]?f[o[T]]=k:f[T]=k,f},{});return g}}),d(this,"initialize",function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i)throw new Error("Require GA_MEASUREMENT_ID");var g=typeof i=="string"?[{trackingId:i}]:i;r._currentMeasurementId=g[0].trackingId;var f=o.gaOptions,I=o.gtagOptions,E=o.nonce,T=o.testMode,k=T===void 0?!1:T,U=o.gtagUrl;if(r._testMode=k,k||r._loadGA(r._currentMeasurementId,E,U),r.isInitialized||(r._gtag("js",new Date),g.forEach(function(J){var ae=M(M(M({},r._toGtagOptions(M(M({},f),J.gaOptions))),I),J.gtagOptions);Object.keys(ae).length?r._gtag("config",J.trackingId,ae):r._gtag("config",J.trackingId)})),r.isInitialized=!0,!k){var q=b(r._queueGtag);for(r._queueGtag=[],r._isQueuing=!1;q.length;){var ne=q.shift();r._gtag.apply(r,b(ne)),ne[0]==="get"&&(r._isQueuing=!0)}}}),d(this,"set",function(i){if(!i){console.warn("`fieldsObject` is required in .set()");return}if(m(i)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(i).length===0&&console.warn("empty `fieldsObject` given to .set()"),r._gaCommand("set",i)}),d(this,"_gaCommandSendEvent",function(i,o,g,f,I){r._gtag("event",o,M(M({event_category:i,event_label:g,value:f},I&&{non_interaction:I.nonInteraction}),r._toGtagOptions(I)))}),d(this,"_gaCommandSendEventParameters",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];if(typeof o[0]=="string")r._gaCommandSendEvent.apply(r,b(o.slice(1)));else{var f=o[0],I=f.eventCategory,E=f.eventAction,T=f.eventLabel,k=f.eventValue;f.hitType;var U=e(f,w);r._gaCommandSendEvent(I,E,T,k,U)}}),d(this,"_gaCommandSendTiming",function(i,o,g,f){r._gtag("event","timing_complete",{name:o,value:g,event_category:i,event_label:f})}),d(this,"_gaCommandSendPageview",function(i,o){if(o&&Object.keys(o).length){var g=r._toGtagOptions(o),f=g.title,I=g.location,E=e(g,_);r._gtag("event","page_view",M(M(M(M({},i&&{page_path:i}),f&&{page_title:f}),I&&{page_location:I}),E))}else i?r._gtag("event","page_view",{page_path:i}):r._gtag("event","page_view")}),d(this,"_gaCommandSendPageviewParameters",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];if(typeof o[0]=="string")r._gaCommandSendPageview.apply(r,b(o.slice(1)));else{var f=o[0],I=f.page;f.hitType;var E=e(f,c);r._gaCommandSendPageview(I,E)}}),d(this,"_gaCommandSend",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];var f=typeof o[0]=="string"?o[0]:o[0].hitType;switch(f){case"event":r._gaCommandSendEventParameters.apply(r,o);break;case"pageview":r._gaCommandSendPageviewParameters.apply(r,o);break;case"timing":r._gaCommandSendTiming.apply(r,b(o.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(f));break;default:console.warn("Send command doesn't exist: ".concat(f))}}),d(this,"_gaCommandSet",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];typeof o[0]=="string"&&(o[0]=d({},o[0],o[1])),r._gtag("set",r._toGtagOptions(o[0]))}),d(this,"_gaCommand",function(i){for(var o=arguments.length,g=new Array(o>1?o-1:0),f=1;f<o;f++)g[f-1]=arguments[f];switch(i){case"send":r._gaCommandSend.apply(r,g);break;case"set":r._gaCommandSet.apply(r,g);break;default:console.warn("Command doesn't exist: ".concat(i))}}),d(this,"ga",function(){for(var i=arguments.length,o=new Array(i),g=0;g<i;g++)o[g]=arguments[g];if(typeof o[0]=="string")r._gaCommand.apply(r,o);else{var f=o[0];r._gtag("get",r._currentMeasurementId,"client_id",function(I){r._isQueuing=!1;var E=r._queueGtag;for(f({get:function(U){return U==="clientId"?I:U==="trackingId"?r._currentMeasurementId:U==="apiVersion"?"1":void 0}});E.length;){var T=E.shift();r._gtag.apply(r,b(T))}}),r._isQueuing=!0}return r.ga}),d(this,"event",function(i,o){if(typeof i=="string")r._gtag("event",i,r._toGtagOptions(o));else{var g=i.action,f=i.category,I=i.label,E=i.value,T=i.nonInteraction,k=i.transport;if(!f||!g){console.warn("args.category AND args.action are required in event()");return}var U={hitType:"event",eventCategory:(0,p.default)(f),eventAction:(0,p.default)(g)};I&&(U.eventLabel=(0,p.default)(I)),typeof E<"u"&&(typeof E!="number"?console.warn("Expected `args.value` arg to be a Number."):U.eventValue=E),typeof T<"u"&&(typeof T!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):U.nonInteraction=T),typeof k<"u"&&(typeof k!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(k)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),U.transport=k)),r._gaCommand("send",U)}}),d(this,"send",function(i){r._gaCommand("send",i)}),this.reset()}return C(n,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),n}();a.GA4=A;var l=new A;a.default=l})(ye);(function(a){function u(e){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ReactGAImplementation=void 0;var p=_(ye);function w(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,m=new WeakMap;return(w=function(F){return F?m:t})(e)}function _(e,t){if(e.__esModule)return e;if(e===null||u(e)!=="object"&&typeof e!="function")return{default:e};var m=w(t);if(m&&m.has(e))return m.get(e);var b={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in e)if(x!=="default"&&Object.prototype.hasOwnProperty.call(e,x)){var S=F?Object.getOwnPropertyDescriptor(e,x):null;S&&(S.get||S.set)?Object.defineProperty(b,x,S):b[x]=e[x]}return b.default=e,m&&m.set(e,b),b}var c=p.GA4;a.ReactGAImplementation=c;var y=p.default;a.default=y})(he);const z=le(he);function Ve(a){var w,_;const u=D(),p=(_=(w=u.integrationsConfiguration)==null?void 0:w.integrations)==null?void 0:_.googleAnalyticsV4Id;return{requiresMarketingConsent:!0,isActive(){return!!p},async init(){console.log("GA4:init",p),z.initialize(p)},async identifyUser(c){},async loginStarted(){},async loginCompleted(c){},async pageView(){console.log("GA4:pageView"),z.send({hitType:"pageview",page:window.location.pathname})},async productViewed(c){var y,e;z.event("view_item",{items:[{item_id:c._id,item_name:c.name,item_category:c.categories.length?c.categories[0].name:null,price:(y=c.availabilityAt)==null?void 0:y.finalPrice,quantity:1}],currency:u.country.defaultCurrency,value:(e=c.availabilityAt)==null?void 0:e.finalPrice})},async productAddedToCart(c){console.log("GA4:add_to_cart",{items:[{item_id:c.product._id,item_name:c.product.name,price:c.unitPrice,quantity:c.amount}],currency:u.country.defaultCurrency}),z.event("add_to_cart",{items:[{item_id:c.product._id,item_name:c.product.name,price:c.unitPrice,quantity:c.amount}],currency:u.country.defaultCurrency,value:c.totalPrice})},async cartItemUpdated(){},async cartItemRemoved(c){z.event("remove_from_cart",{items:[{item_id:c.product._id,item_name:c.product.name,price:c.unitPrice,quantity:c.amount}],currency:u.country.defaultCurrency,value:c.totalPrice})},async orderStarted(){},async checkoutStarted(c,y){z.event("begin_checkout",{currency:u.country.defaultCurrency,value:y.totalPrice,items:y==null?void 0:y.items.map(e=>({item_id:e.product._id,item_name:e.product.name,price:e.unitPrice,discount:e.unitPriceWithoutDiscount-e.unitPrice,quantity:e.amount}))})},async preferencesUpdated(){},async orderCreated(){},async orderPaid(c){z.event("purchase",{transaction_id:`${c.websiteId}-${c._id}`,currency:u.country.defaultCurrency,value:c.totalPrice,items:c.items.map(y=>({item_id:y.product._id,item_name:y.product.name,price:y.unitPrice,discount:y.unitPriceWithoutDiscount-y.unitPrice,quantity:y.amount}))})},async createOrderError(){},async errorScreenShown(c){}}}var re={};Object.defineProperty(re,"__esModule",{value:!0});var Ge=function(u){console.warn("[react-gtm]",u)};re.default=Ge;var De=re,He=We(De);function We(a){return a.__esModule?a:{default:a}}var Je={tags:function(u){var p=u.id,w=u.events,_=u.dataLayer,c=u.dataLayerName,y=u.preview,e=u.auth,t="&gtm_auth="+e,m="&gtm_preview="+y;p||(0,He.default)("GTM Id is required");var b=`
      <iframe src="https://www.googletagmanager.com/ns.html?id=`+p+t+m+`&gtm_cookies_win=x"
        height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>`,F=`
      (function(w,d,s,l,i){w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js', `+JSON.stringify(w).slice(1,-1)+`});
        var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
        j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl+'`+t+m+`&gtm_cookies_win=x';
        f.parentNode.insertBefore(j,f);
      })(window,document,'script','`+c+"','"+p+"');",x=this.dataLayer(_,c);return{iframe:b,script:F,dataLayerVar:x}},dataLayer:function(u,p){return`
      window.`+p+" = window."+p+` || [];
      window.`+p+".push("+JSON.stringify(u)+")"}},Ke=Je,$e=Ke,se=Qe($e);function Qe(a){return a.__esModule?a:{default:a}}var Ye={dataScript:function(u){var p=document.createElement("script");return p.innerHTML=u,p},gtm:function(u){var p=se.default.tags(u),w=function(){var e=document.createElement("noscript");return e.innerHTML=p.iframe,e},_=function(){var e=document.createElement("script");return e.innerHTML=p.script,e},c=this.dataScript(p.dataLayerVar);return{noScript:w,script:_,dataScript:c}},initialize:function(u){var p=u.gtmId,w=u.events,_=w===void 0?{}:w,c=u.dataLayer,y=u.dataLayerName,e=y===void 0?"dataLayer":y,t=u.auth,m=t===void 0?"":t,b=u.preview,F=b===void 0?"":b,x=this.gtm({id:p,events:_,dataLayer:c||void 0,dataLayerName:e,auth:m,preview:F});c&&document.head.appendChild(x.dataScript),document.head.insertBefore(x.script(),document.head.childNodes[0]),document.body.insertBefore(x.noScript(),document.body.childNodes[0])},dataLayer:function(u){var p=u.dataLayer,w=u.dataLayerName,_=w===void 0?"dataLayer":w;if(window[_])return window[_].push(p);var c=se.default.dataLayer(p,_),y=this.dataScript(c);document.head.insertBefore(y,document.head.childNodes[0])}},Xe=Ye,Ze=Xe,et=tt(Ze);function tt(a){return a.__esModule?a:{default:a}}var rt=et.default;const N=le(rt);function nt(a){var w,_;const u=D(),p=(_=(w=u.integrationsConfiguration)==null?void 0:w.integrations)==null?void 0:_.tagManagerId;return{requiresMarketingConsent:!0,isActive(){return!!p},async init(){console.log("GTM:init",p),N.initialize({gtmId:p})},async identifyUser(c){},async loginStarted(){},async loginCompleted(c){},async pageView(){console.log("GTM:pageView"),N.dataLayer({dataLayer:{event:"pageview",pagePath:window.location.pathname,pageTitle:document.title}})},async productViewed(c){var y,e;N.dataLayer({dataLayer:{event:"view_item",ecommerce:{items:[{item_id:c._id,item_name:c.name,item_category:c.categories.length?c.categories[0].name:null,price:(y=c.availabilityAt)==null?void 0:y.finalPrice,quantity:1}],currency:u.country.defaultCurrency,value:(e=c.availabilityAt)==null?void 0:e.finalPrice}}})},async productAddedToCart(c){console.log("GTM:add_to_cart"),N.dataLayer({dataLayer:{event:"add_to_cart",ecommerce:{items:[{item_id:c.product._id,item_name:c.product.name,price:c.unitPrice,quantity:c.amount}],currency:u.country.defaultCurrency,value:c.totalPrice}}})},async cartItemUpdated(){},async cartItemRemoved(c){N.dataLayer({dataLayer:{event:"remove_from_cart",ecommerce:{items:[{item_id:c.product._id,item_name:c.product.name,price:c.unitPrice,quantity:c.amount}],currency:u.country.defaultCurrency,value:c.totalPrice}}})},async orderStarted(){},async checkoutStarted(c,y){var e,t;N.dataLayer({dataLayer:{event:"begin_checkout",ecommerce:{currency:u.country.defaultCurrency,value:y.totalPrice,items:y==null?void 0:y.items.map(m=>({item_id:m.product._id,item_name:m.product.name,price:m.unitPrice,discount:m.unitPriceWithoutDiscount-m.unitPrice,quantity:m.amount}))},user:{email:(e=a==null?void 0:a.preferences)==null?void 0:e.sessionEmail,phone:(t=a==null?void 0:a.preferences)==null?void 0:t.sessionPhone}}})},async preferencesUpdated(){},async orderCreated(){},async orderPaid(c){var y,e;N.dataLayer({dataLayer:{event:"purchase",ecommerce:{transaction_id:`${c.websiteId}-${c._id}`,currency:u.country.defaultCurrency,value:c.totalPrice,items:c.items.map(t=>({item_id:t.product._id,item_name:t.product.name,price:t.unitPrice,discount:t.unitPriceWithoutDiscount-t.unitPrice,quantity:t.amount}))},user:{email:(y=a==null?void 0:a.preferences)==null?void 0:y.sessionEmail,phone:(e=a==null?void 0:a.preferences)==null?void 0:e.sessionPhone}}})},async createOrderError(){},async errorScreenShown(c){}}}function at(a,u,p,w,_,c,y){return a.fbq?a.fbq:(_=a.fbq=function(){_.callMethod?_.callMethod.apply(_,arguments):_.queue.push(arguments)},a._fbq||(a._fbq=_),_.push=_,_.loaded=!0,_.version="2.0",_.queue=[],c=u.createElement(p),c.async=!0,c.src=w,y=u.getElementsByTagName(p)[0],y.parentNode.insertBefore(c,y),_)}function ve(){return at(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}function ee(a=ve()){function u(w,_=!0){return a("set","autoConfig",_,w),a("init",w),ee(a)}function p(w){return w===void 0?a("track","PageView"):a("trackSingle",w,"PageView"),ee(a)}return{$fbq:a,init:u,pageView:p}}var _e={exports:{}};const it={},ot=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"})),ce=be(ot);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(a){(function(){var u="input is invalid type",p=typeof window=="object",w=p?window:{};w.JS_SHA256_NO_WINDOW&&(p=!1);var _=!p&&typeof self=="object",c=!w.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?w=xe:_&&(w=self);var y=!w.JS_SHA256_NO_COMMON_JS&&!0&&a.exports,e=!w.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",t="0123456789abcdef".split(""),m=[-2147483648,8388608,32768,128],b=[24,16,8,0],F=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=["hex","array","digest","arrayBuffer"],S=[];(w.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),e&&(w.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var O=function(s,v){return function(C){return new L(v,!0).update(C)[s]()}},M=function(s){var v=O("hex",s);c&&(v=V(v,s)),v.create=function(){return new L(s)},v.update=function(P){return v.create().update(P)};for(var C=0;C<x.length;++C){var d=x[C];v[d]=O(d,s)}return v},V=function(s,v){var C=ce,d=ce.Buffer,P=v?"sha224":"sha256",h;d.from&&!w.JS_SHA256_NO_BUFFER_FROM?h=d.from:h=function(l){return new d(l)};var A=function(l){if(typeof l=="string")return C.createHash(P).update(l,"utf8").digest("hex");if(l==null)throw new Error(u);return l.constructor===ArrayBuffer&&(l=new Uint8Array(l)),Array.isArray(l)||ArrayBuffer.isView(l)||l.constructor===d?C.createHash(P).update(h(l)).digest("hex"):s(l)};return A},W=function(s,v){return function(C,d){return new G(C,v,!0).update(d)[s]()}},H=function(s){var v=W("hex",s);v.create=function(P){return new G(P,s)},v.update=function(P,h){return v.create(P).update(h)};for(var C=0;C<x.length;++C){var d=x[C];v[d]=W(d,s)}return v};function L(s,v){v?(S[0]=S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0,this.blocks=S):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}L.prototype.update=function(s){if(!this.finalized){var v,C=typeof s;if(C!=="string"){if(C==="object"){if(s===null)throw new Error(u);if(e&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!e||!ArrayBuffer.isView(s)))throw new Error(u)}else throw new Error(u);v=!0}for(var d,P=0,h,A=s.length,l=this.blocks;P<A;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,this.block=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),v)for(h=this.start;P<A&&h<64;++P)l[h>>>2]|=s[P]<<b[h++&3];else for(h=this.start;P<A&&h<64;++P)d=s.charCodeAt(P),d<128?l[h>>>2]|=d<<b[h++&3]:d<2048?(l[h>>>2]|=(192|d>>>6)<<b[h++&3],l[h>>>2]|=(128|d&63)<<b[h++&3]):d<55296||d>=57344?(l[h>>>2]|=(224|d>>>12)<<b[h++&3],l[h>>>2]|=(128|d>>>6&63)<<b[h++&3],l[h>>>2]|=(128|d&63)<<b[h++&3]):(d=65536+((d&1023)<<10|s.charCodeAt(++P)&1023),l[h>>>2]|=(240|d>>>18)<<b[h++&3],l[h>>>2]|=(128|d>>>12&63)<<b[h++&3],l[h>>>2]|=(128|d>>>6&63)<<b[h++&3],l[h>>>2]|=(128|d&63)<<b[h++&3]);this.lastByteIndex=h,this.bytes+=h-this.start,h>=64?(this.block=l[16],this.start=h-64,this.hash(),this.hashed=!0):this.start=h}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,v=this.lastByteIndex;s[16]=this.block,s[v>>>2]|=m[v&3],this.block=s[16],v>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},L.prototype.hash=function(){var s=this.h0,v=this.h1,C=this.h2,d=this.h3,P=this.h4,h=this.h5,A=this.h6,l=this.h7,n=this.blocks,r,i,o,g,f,I,E,T,k,U,q;for(r=16;r<64;++r)f=n[r-15],i=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,f=n[r-2],o=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,n[r]=n[r-16]+i+n[r-7]+o<<0;for(q=v&C,r=0;r<64;r+=4)this.first?(this.is224?(T=300032,f=n[0]-1413257819,l=f-150054599<<0,d=f+24177077<<0):(T=704751109,f=n[0]-210244248,l=f-1521486534<<0,d=f+143694565<<0),this.first=!1):(i=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),o=(P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7),T=s&v,g=T^s&C^q,E=P&h^~P&A,f=l+o+E+F[r]+n[r],I=i+g,l=d+f<<0,d=f+I<<0),i=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),o=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),k=d&s,g=k^d&v^T,E=l&P^~l&h,f=A+o+E+F[r+1]+n[r+1],I=i+g,A=C+f<<0,C=f+I<<0,i=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),o=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),U=C&d,g=U^C&s^k,E=A&l^~A&P,f=h+o+E+F[r+2]+n[r+2],I=i+g,h=v+f<<0,v=f+I<<0,i=(v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10),o=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),q=v&C,g=q^v&d^U,E=h&A^~h&l,f=P+o+E+F[r+3]+n[r+3],I=i+g,P=s+f<<0,s=f+I<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+s<<0,this.h1=this.h1+v<<0,this.h2=this.h2+C<<0,this.h3=this.h3+d<<0,this.h4=this.h4+P<<0,this.h5=this.h5+h<<0,this.h6=this.h6+A<<0,this.h7=this.h7+l<<0},L.prototype.hex=function(){this.finalize();var s=this.h0,v=this.h1,C=this.h2,d=this.h3,P=this.h4,h=this.h5,A=this.h6,l=this.h7,n=t[s>>>28&15]+t[s>>>24&15]+t[s>>>20&15]+t[s>>>16&15]+t[s>>>12&15]+t[s>>>8&15]+t[s>>>4&15]+t[s&15]+t[v>>>28&15]+t[v>>>24&15]+t[v>>>20&15]+t[v>>>16&15]+t[v>>>12&15]+t[v>>>8&15]+t[v>>>4&15]+t[v&15]+t[C>>>28&15]+t[C>>>24&15]+t[C>>>20&15]+t[C>>>16&15]+t[C>>>12&15]+t[C>>>8&15]+t[C>>>4&15]+t[C&15]+t[d>>>28&15]+t[d>>>24&15]+t[d>>>20&15]+t[d>>>16&15]+t[d>>>12&15]+t[d>>>8&15]+t[d>>>4&15]+t[d&15]+t[P>>>28&15]+t[P>>>24&15]+t[P>>>20&15]+t[P>>>16&15]+t[P>>>12&15]+t[P>>>8&15]+t[P>>>4&15]+t[P&15]+t[h>>>28&15]+t[h>>>24&15]+t[h>>>20&15]+t[h>>>16&15]+t[h>>>12&15]+t[h>>>8&15]+t[h>>>4&15]+t[h&15]+t[A>>>28&15]+t[A>>>24&15]+t[A>>>20&15]+t[A>>>16&15]+t[A>>>12&15]+t[A>>>8&15]+t[A>>>4&15]+t[A&15];return this.is224||(n+=t[l>>>28&15]+t[l>>>24&15]+t[l>>>20&15]+t[l>>>16&15]+t[l>>>12&15]+t[l>>>8&15]+t[l>>>4&15]+t[l&15]),n},L.prototype.toString=L.prototype.hex,L.prototype.digest=function(){this.finalize();var s=this.h0,v=this.h1,C=this.h2,d=this.h3,P=this.h4,h=this.h5,A=this.h6,l=this.h7,n=[s>>>24&255,s>>>16&255,s>>>8&255,s&255,v>>>24&255,v>>>16&255,v>>>8&255,v&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,A>>>24&255,A>>>16&255,A>>>8&255,A&255];return this.is224||n.push(l>>>24&255,l>>>16&255,l>>>8&255,l&255),n},L.prototype.array=L.prototype.digest,L.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),v=new DataView(s);return v.setUint32(0,this.h0),v.setUint32(4,this.h1),v.setUint32(8,this.h2),v.setUint32(12,this.h3),v.setUint32(16,this.h4),v.setUint32(20,this.h5),v.setUint32(24,this.h6),this.is224||v.setUint32(28,this.h7),s};function G(s,v,C){var d,P=typeof s;if(P==="string"){var h=[],A=s.length,l=0,n;for(d=0;d<A;++d)n=s.charCodeAt(d),n<128?h[l++]=n:n<2048?(h[l++]=192|n>>>6,h[l++]=128|n&63):n<55296||n>=57344?(h[l++]=224|n>>>12,h[l++]=128|n>>>6&63,h[l++]=128|n&63):(n=65536+((n&1023)<<10|s.charCodeAt(++d)&1023),h[l++]=240|n>>>18,h[l++]=128|n>>>12&63,h[l++]=128|n>>>6&63,h[l++]=128|n&63);s=h}else if(P==="object"){if(s===null)throw new Error(u);if(e&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!e||!ArrayBuffer.isView(s)))throw new Error(u)}else throw new Error(u);s.length>64&&(s=new L(v,!0).update(s).array());var r=[],i=[];for(d=0;d<64;++d){var o=s[d]||0;r[d]=92^o,i[d]=54^o}L.call(this,v,C),this.update(i),this.oKeyPad=r,this.inner=!0,this.sharedMemory=C}G.prototype=new L,G.prototype.finalize=function(){if(L.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();L.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),L.prototype.finalize.call(this)}};var R=M();R.sha256=R,R.sha224=M(!0),R.sha256.hmac=H(),R.sha224.hmac=H(!0),y?a.exports=R:(w.sha256=R.sha256,w.sha224=R.sha224)})()})(_e);var Y=_e.exports;function X(a){return a?a.trim().toLowerCase():null}function st(a,u){var w;return a.userId?{em:Y.sha256(X(a.email)||""),fn:Y.sha256(X(a.firstName)||""),ln:Y.sha256(X((w=a.fullName)==null?void 0:w.replace(a.firstName,""))||""),ct:null,db:null,country:u==null?void 0:u.toLowerCase(),ge:null,st:null,zp:null}:{}}let j=null;function ct(a){var _,c,y,e;const u=fe(),p=D(),w=[(c=(_=p.integrationsConfiguration)==null?void 0:_.integrations)==null?void 0:c.facebookPixelId,(y=p.integrationsConfiguration)==null?void 0:y.justoAdsPixelId,...((e=p.integrationsConfiguration)==null?void 0:e.additionalPixels)??[]].filter(Boolean);return{requiresMarketingConsent:!0,isActive(){return u?!1:(w==null?void 0:w.length)>0},async init(){const{$fbq:t,pageView:m}=ee(ve());j=t;const b=Ie();for(const F of w){const x=st(b,p.countryCode);console.log("fbq:init",F,x),j("init",F,x)}m()},async identifyUser(){},async loginStarted(){},async loginCompleted(){},async pageView(){console.log("fbq:pageView"),j("track","PageView")},async productViewed(t){var m,b,F;j("track","ViewContent",{content_category:(b=(m=t.categories)==null?void 0:m[0])==null?void 0:b.name,content_ids:[t._id],content_name:t.name,content_type:"product",currency:p.country.defaultCurrency,value:(F=t.availabilityAt)==null?void 0:F.finalPrice})},async productAddedToCart(t){j("track","AddToCart",{content_ids:[t.productId],content_name:t.product.name,content_type:"product",currency:p.country.defaultCurrency,value:t.totalPrice})},async cartItemUpdated(){},async cartItemRemoved(){},async orderStarted(){},async checkoutStarted(t,m){j("track","InitiateCheckout",{currency:p.country.defaultCurrency,value:m.totalPrice,num_items:m.items.length})},async preferencesUpdated(){},async orderCreated(){},async orderPaid(t){j("track","Purchase",{currency:p.country.defaultCurrency,value:t.totalPrice,num_items:t.items.length})},async createOrderError(){},async errorScreenShown(t){}}}const ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function ut(a=24){let u="";for(let p=0;p<a;p++)u+=ue.charAt(Math.floor(Math.random()*ue.length));return u}const de="ephemeralDeviceId",dt="edi",Z=te?null:pe(dt);function lt(){if(te)return null;if(Z)return sessionStorage.setItem(de,Z),Z;const a=sessionStorage.getItem(de);if(a)return a}const $="deviceIdV2";function ft(){if(te)return null;const a=lt();if(a)return a;const u=pe($);if(u)return localStorage.setItem($,u),u;const p=Le($);if(p)return p;const w=ut(50);return localStorage==null||localStorage.setItem($,w),w}function pt(a){var c,y;const u=fe(),p=D(),w={websiteId:p._id,websiteName:p.name,websiteUrl:p.baseURL,countryCode:p.countryCode,locale:p.locale,webviewType:u||"none",deviceId:ft(),userName:(c=a.user)==null?void 0:c.name,userEmail:(y=a.user)==null?void 0:y.email},_=(e,t={})=>{const m={...w,...t};for(const b of Object.keys(m))Me(m[b])&&delete m[b];console.log(`Posthog:${e}`,m),ie==="prod"&&K.capture(e,m)};return{requiresMarketingConsent:!1,isActive(){return ie==="prod"},async init(){},async identifyUser(e){K._isIdentified()||K.identify(e.userId,{...e,jwt:null})},async loginStarted(){_("loginStarted",{})},async loginCompleted(e){_("loginCompleted",{}),K.identify(e.userId,{...e,jwt:null})},async pageView(){},async productViewed(e){var t,m;_("productViewed",{productId:e._id,productName:e.name,menuId:(t=e.availabilityAt)==null?void 0:t.menuId,price:(m=e.availabilityAt)==null?void 0:m.finalPrice,discount:e.availabilityAt.basePrice-e.availabilityAt.finalPrice})},async productAddedToCart(e){_("productAddedToCart",{cartItemId:e._id,productId:e.productId,productName:e.product.name,quantity:e.amount,totalPrice:e.totalPrice})},async cartItemUpdated(e){_("cartItemUpdated",{cartItemId:e._id,productId:e.productId,productName:e.product.name,quantity:e.amount,totalPrice:e.totalPrice})},async cartItemRemoved(e){_("cartItemRemoved",{cartItemId:e._id,productId:e.productId,productName:e.product.name,quantity:e.amount,totalPrice:e.totalPrice})},async orderStarted(){_("orderStarted",{})},async checkoutStarted(e,t){var m;_("checkoutStarted",{cartItemsCount:t.items.length,productIds:t.items.map(b=>b.productId),deliveryType:e.deliveryType,storeId:(m=e.store)==null?void 0:m._id,itemsPrice:t.itemsPrice,totalPrice:t.totalPrice})},async preferencesUpdated(e,t){},async orderCreated(e){var t;_("orderCreated",{orderId:e._id,orderCode:e.code,productIds:e.items.map(m=>{var b;return(b=m.product)==null?void 0:b._id}),totalPrice:e.totalPrice,couponCode:e.couponCode,revenue:e.totalPrice,storeId:(t=e.store)==null?void 0:t._id})},async orderPaid(e){var t;_("orderPaid",{orderId:e._id,orderCode:e.code,productIds:e.items.map(m=>{var b;return(b=m.product)==null?void 0:b._id}),totalPrice:e.totalPrice,couponCode:e.couponCode,revenue:e.totalPrice,storeId:(t=e.store)==null?void 0:t._id})},async createOrderError(e,t,m){_("createOrderError",{errorType:t,errorMessage:m,menuId:e.menuId,deliveryType:e.deliveryType,time:e.time,paymentType:e.paymentType,cardId:e.cardId,otherPaymentType:e.otherPaymentType,couponCode:e.couponCode,websiteCoinsToSpend:e.websiteCoinsDiscount,justoCoinsToSpend:e.justoCoinsDiscount,tipAmount:e.tipAmount,storeId:e.storeId,sessionEmail:e.sessionEmail,sessionPhone:e.sessionPhone})},async errorScreenShown(e){_("errorScreenShown",{path:e.path,errorName:e.errorName,errorMessage:e.errorMessage})}}}const ht={requiresMarketingConsent:!1,isActive:()=>!1,init:async()=>{},identifyUser:async()=>{},pageView:async()=>{},productViewed:async()=>{},productAddedToCart:async()=>{},cartItemUpdated:async()=>{},cartItemRemoved:async()=>{},checkoutStarted:async()=>{},orderStarted:async()=>{},preferencesUpdated:async()=>{},orderCreated:async()=>{},createOrderError:async()=>{},loginCompleted:async()=>{},loginStarted:async()=>{},orderPaid:async()=>{},errorScreenShown:async()=>{}},we=Object.keys(ht);function It(a){var t,m;const u=Re(b=>b.cookies),p=pt(a),w=ct(),_=Ve(),c=nt(a),y=je(a),e=[p,w,_,c,y];return Q.useMemo(()=>{const b=e.filter(F=>{var x,S;return!((x=u.permissions)!=null&&x.analytics)||F.requiresMarketingConsent&&!((S=u.permissions)!=null&&S.marketing)?!1:F.isActive()});return Object.fromEntries(we.map(F=>{const x=b.map(S=>S[F]);return[F,async(...S)=>{await Promise.all(x.map(async O=>{try{await O(...S)}catch(M){console.error("Error executing analytics hook",{method:F,args:S,error:M,cookiesPermissions:u==null?void 0:u.permissions})}}))}]}))},[...e,a,(t=u.permissions)==null?void 0:t.analytics,(m=u.permissions)==null?void 0:m.marketing])}const yt=Q.createContext(null);function Et(){const a=Q.useContext(yt);return a||gt}const gt=Object.fromEntries(we.map(a=>[a,async()=>{console.error("AnalyticsHooksContext is not available")}]));export{yt as A,Be as R,Ne as _,It as a,Re as b,Ue as c,Ot as d,ut as e,ot as f,ft as g,ce as r,Y as s,Et as u};
