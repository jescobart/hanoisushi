import{r as e}from"./jsx-runtime-BGxL3LVy.js";function R(u){const t=e.useRef(u);return e.useEffect(()=>{t.current=u}),e.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function d(u,t){const n=R(u),r=e.useRef(),i=e.useRef(),o=e.useRef(!0),l=e.useRef(t),a=e.useRef(-1),m=()=>window.clearTimeout(a.current),s=e.useCallback((...c)=>{n(...c),r.current=c,i.current=c,o.current=!1},[n]),f=e.useCallback(()=>{r.current&&r.current!==i.current?(s(...r.current),a.current=window.setTimeout(f,l.current)):o.current=!0},[s]),C=e.useCallback((...c)=>{o.current?(s(...c),a.current=window.setTimeout(f,l.current)):r.current=c},[s,f]);return e.useEffect(()=>{l.current=t},[t]),[C,m]}function b(u,t){return d(u,t)[0]}export{b as u};
