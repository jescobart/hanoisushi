import{r as c,j as e}from"./jsx-runtime-BGxL3LVy.js";import{u}from"./index-Dg1ijqza.js";import{e as d}from"./useWebsite-B2NA3eOh.js";import{i as x}from"./env-D6s-xqZ4.js";import{C as f}from"./Container-Cn3YuP-m.js";import{B as h}from"./button-B9Ixe4GG.js";import{L as g,A as j}from"./components-C7TJjWXG.js";import{W as p}from"./index-DVEwTJaE.js";import{o as y}from"./index-CXeFjl5i.js";function N(a,t){const s=d(),[n,i]=c.useState(null),r=c.useRef(!1),l=n===null&&!(t!=null&&t.skip);return c.useEffect(()=>{n&&i(null)},[a]),c.useEffect(()=>{var m;x||t!=null&&t.skip||n||r.current||(r.current=!0,fetch(`${a}`,{headers:{"X-Justo-Domain":(m=window==null?void 0:window.location)==null?void 0:m.hostname,"X-Justo-Cache-Id":s,"X-Justo-Service":"remix-websites"}}).then(o=>o.json()).then(i).finally(()=>{r.current=!1}))},[a,!!n,t==null?void 0:t.skip]),{data:n,loading:l}}function b(){return e.jsx(f,{children:e.jsx("div",{className:"flex flex-col flex-1",children:e.jsx("main",{className:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mt-4 text-balance text-5xl font-semibold tracking-tight text-gray-900 sm:text-7xl",children:"404."}),e.jsx("p",{className:"mt-6 text-pretty text-lg font-medium text-gray-500 sm:text-xl/8",children:"Lo sentimos, no encontramos esta pÃ¡gina."}),e.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:e.jsx(h,{children:e.jsx(g,{to:"/",children:"Empezar de nuevo"})})})]})})})})}function I(a){const t=u(),s=N(`/website-dynamic-page.json?path=${encodeURIComponent(a.path)}`,{skip:!a.path||t.hideDynamicPages});if(t.hideDynamicPages)return null;const n=a.websitePage||(s==null?void 0:s.data);return e.jsx(c.Suspense,{fallback:null,children:e.jsx(j,{resolve:n,children:i=>{var r;return e.jsx(e.Fragment,{children:i?e.jsx(e.Fragment,{children:(r=i.activeComponents)==null?void 0:r.map((l,m)=>e.jsx(p,{component:l},m))}):e.jsxs(e.Fragment,{children:[a.onNotFound==="show404"&&e.jsx(b,{}),a.onNotFound==="redirectToOrder"&&e.jsx(y,{to:"/pedir",replace:!0}),a.onNotFound==="hide"&&null]})})}})})}export{b as D,I as W};
